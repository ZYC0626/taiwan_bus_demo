{"version":3,"sources":["webpack:///./src/assets/images/busStop_in.svg","webpack:///./node_modules/wicket/wicket.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./src/assets/images/carbon_bus_w.svg","webpack:///./src/assets/images/walkbus.svg","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./src/views/BusSearch.vue","webpack:///./src/views/BusSearch.vue?5bfc","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/core-js/modules/es.json.stringify.js","webpack:///./src/assets/images/busStop.svg"],"names":["module","exports","root","factory","this","beginsWith","endsWith","Wkt","obj","_wrapped","str","sub","substring","length","delimiter","isArray","constructor","Array","trim","initializer","wrapVertices","regExes","_stripWhitespaceAndParens","fullStr","trimmed","noParens","replace","components","undefined","read","fromObject","prototype","isCollection","type","slice","sameCoords","a","b","x","y","result","hasOwnProperty","fromJson","deconstruct","call","isRectangle","toObject","config","construct","properties","toString","write","i","j","k","coords","iring","oring","toLowerCase","geometry","coordinates","push","toJson","cs","json","ring","rings","s","ogcTypes","exec","toUpperCase","join","bbox","concat","merge","wkt","prefix","TypeError","matches","typeStr","base","ingest","apply","crudeJson","test","console","log","name","message","JSON","parse","pieces","data","extract","point","String","multipoint","parts","linestring","multilinestring","polygon","multipolygon","box","geometrycollection","split","spaces","parseFloat","numeric","points","comma","multipoints","line","lines","doubleParenComma","parenComma","subcomponents","filter","n","x_cord","y_cord","polygons","global","DOMIterables","DOMTokenListPrototype","forEach","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","$forEach","arrayMethodIsStrict","STRICT_METHOD","callbackfn","arguments","$","uncurryThis","notARegExp","requireObjectCoercible","correctIsRegExpLogic","stringIndexOf","indexOf","target","proto","forced","includes","searchString","isObject","classof","wellKnownSymbol","MATCH","it","isRegExp","toPropertyKey","definePropertyModule","createPropertyDescriptor","object","key","value","propertyKey","f","class","href","aria-current","role","id","src","alt","city","$filters","replaceCity","mobileTool","showArea","stopOfRouteBack","stopOfRouteTo","placeholder","routeKeyword","getRoute","routeList","item","RouteUID","toRouteDetailClick","RouteName","Zh_tw","updateLikes","buslikesId","DepartureStopNameZh","DestinationStopNameZh","backToRouteSeachList","refreshTime","getStopOfRoute","selectRoute","updateLikes_","selectRouteUID","StopName","toOrBack","data-bs-toggle","data-bs-target","changeToOrBack","stop","StopUID","panToPosition","StopPosition","PositionLat","PositionLon","EstimateTime","StopStatus","PlateNumb","toMinute","locateGPS","openStreetMap","walkBusIcon","Icon","iconUrl","iconSize","iconAnchor","popupAnchor","stationInIcon","stationIcon","positionIcon","routeGeometry","routeLayer","locationMarkerID","walkBusMarker","stopMarker","timer","buslikes","prevRoute","methods","url","axios","get","headers","$getAuthorizationHeader","then","response","catch","err","event","tagName","toRouteDetail","fitBounds","routeName","routeUID","document","querySelector","classList","remove","add","$router","go","clearInterval","timeCountDown","Direction","Stops","getEstimateTime","route","getPlateNum","bus","getRouteGeometry","eachLayer","layer","_leaflet_id","Marker","removeLayer","Popup","toGeoJSON","addRouteLayer","geoStyle","color","weight","wicket","Geometry","geoJsonFeature","geoJSON","style","addTo","addData","addRouteMarker","e","way","tempData","stringify","zoomLevel","getZoom","zoomLevelAddMarker","index","marker","icon","popupContent","createPopupContent","popup","autoPan","className","status","offset","setLatLng","latLng","setContent","addLayer","bindPopup","statusCode","busImg","busIcon","Lat","Lng","setView","window","innerWidth","navigator","geolocation","getCurrentPosition","position","locate","latitude","longitude","area","getParam","pstr","$route","params","queryString","pjson","direction","LatLon","setTimeout","getBounds","time","timeRemaining","setInterval","getLikes","likeStr","localStorage","getItem","map","startStop","endStop","splice","start","end","router","saveLocalStorage","datastr","setItem","watch","handler","o","deep","beforeRouteEnter","to","from","next","vm","mounted","zoomControl","center","zoom","tap","tileLayer","attribution","control","on","func","unmounted","__exports__","render","fails","lengthOfArrayLike","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","FORCED","arg","len","E","A","toAbsoluteIndex","toIntegerOrInfinity","HAS_SPECIES_SUPPORT","max","Math","min","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","actualStart","argumentsLength","METHOD_NAME","argument","method","regexp","error1","error2","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","defineProperty","FunctionPrototype","Function","functionToString","nameRE","regExpExec","NAME","configurable","$includes","addToUnscopables","el","getBuiltIn","$stringify","charAt","charCodeAt","numberToString","tester","low","hi","fix","match","string","prev","stat","replacer","space","l","args"],"mappings":"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","file":"js/chunk-8df0a5ee.cf57e690.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/busStop_in.bee2e2f7.svg\";","/** @license\n *\n *  Copyright (C) 2012 K. Arthur Endsley (kaendsle@mtu.edu)\n *  Michigan Tech Research Institute (MTRI)\n *  3600 Green Court, Suite 100, Ann Arbor, MI, 48105\n *\n *  This program is free software: you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation, either version 3 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n(function (root, factory) {\n\n    if (typeof define === \"function\" && define.amd) {\n        // AMD (+ global for extensions)\n        define(function () {\n            return factory();\n        });\n    } else if (typeof module !== 'undefined' && typeof exports === \"object\") {\n        // CommonJS\n        module.exports = factory();\n    } else {\n        // Browser\n        root.Wkt = factory();\n    }\n}(this, function () {\n\n\n    var beginsWith, endsWith, root, Wkt;\n\n    // Establish the root object, window in the browser, or exports on the server\n    root = this;\n\n    /**\n     * @desc The Wkt namespace.\n     * @property    {String}    delimiter   - The default delimiter for separating components of atomic geometry (coordinates)\n     * @namespace\n     * @global\n     */\n    Wkt = function (obj) {\n        if (obj instanceof Wkt) return obj;\n        if (!(this instanceof Wkt)) return new Wkt(obj);\n        this._wrapped = obj;\n    };\n\n\n\n    /**\n     * Returns true if the substring is found at the beginning of the string.\n     * @param   str {String}    The String to search\n     * @param   sub {String}    The substring of interest\n     * @return      {Boolean}\n     * @private\n     */\n    beginsWith = function (str, sub) {\n        return str.substring(0, sub.length) === sub;\n    };\n\n    /**\n     * Returns true if the substring is found at the end of the string.\n     * @param   str {String}    The String to search\n     * @param   sub {String}    The substring of interest\n     * @return      {Boolean}\n     * @private\n     */\n    endsWith = function (str, sub) {\n        return str.substring(str.length - sub.length) === sub;\n    };\n\n    /**\n     * The default delimiter for separating components of atomic geometry (coordinates)\n     * @ignore\n     */\n    Wkt.delimiter = ' ';\n\n    /**\n     * Determines whether or not the passed Object is an Array.\n     * @param   obj {Object}    The Object in question\n     * @return      {Boolean}\n     * @member Wkt.isArray\n     * @method\n     */\n    Wkt.isArray = function (obj) {\n        return !!(obj && obj.constructor === Array);\n    };\n\n    /**\n     * Removes given character String(s) from a String.\n     * @param   str {String}    The String to search\n     * @param   sub {String}    The String character(s) to trim\n     * @return      {String}    The trimmed string\n     * @member Wkt.trim\n     * @method\n     */\n    Wkt.trim = function (str, sub) {\n        sub = sub || ' '; // Defaults to trimming spaces\n        // Trim beginning spaces\n        while (beginsWith(str, sub)) {\n            str = str.substring(1);\n        }\n        // Trim ending spaces\n        while (endsWith(str, sub)) {\n            str = str.substring(0, str.length - 1);\n        }\n        return str;\n    };\n\n    /**\n     * An object for reading WKT strings and writing geographic features\n     * @constructor this.Wkt.Wkt\n     * @param   initializer {String}    An optional WKT string for immediate read\n     * @property            {Array}     components      - Holder for atomic geometry objects (internal representation of geometric components)\n     * @property            {String}    delimiter       - The default delimiter for separating components of atomic geometry (coordinates)\n     * @property            {Object}    regExes         - Some regular expressions copied from OpenLayers.Format.WKT.js\n     * @property            {String}    type            - The Well-Known Text name (e.g. 'point') of the geometry\n     * @property            {Boolean}   wrapVerticies   - True to wrap vertices in MULTIPOINT geometries; If true: MULTIPOINT((30 10),(10 30),(40 40)); If false: MULTIPOINT(30 10,10 30,40 40)\n     * @return              {this.Wkt.Wkt}\n     * @memberof Wkt\n     */\n    Wkt.Wkt = function (initializer) {\n\n        /**\n         * The default delimiter between X and Y coordinates.\n         * @ignore\n         */\n        this.delimiter = Wkt.delimiter || ' ';\n\n        /**\n         * Configuration parameter for controlling how Wicket seralizes\n         * MULTIPOINT strings. Examples; both are valid WKT:\n         * If true: MULTIPOINT((30 10),(10 30),(40 40))\n         * If false: MULTIPOINT(30 10,10 30,40 40)\n         * @ignore\n         */\n        this.wrapVertices = true;\n\n        /**\n         * Some regular expressions copied from OpenLayers.Format.WKT.js\n         * @ignore\n         */\n        this.regExes = {\n            'typeStr': /^\\s*(\\w+)\\s*\\(\\s*(.*)\\s*\\)\\s*$/,\n            'spaces': /\\s+|\\+/, // Matches the '+' or the empty space\n            'numeric': /-*\\d+(\\.*\\d+)?/,\n            'comma': /\\s*,\\s*/,\n            'parenComma': /\\)\\s*,\\s*\\(/,\n            'coord': /-*\\d+\\.*\\d+ -*\\d+\\.*\\d+/, // e.g. \"24 -14\"\n            'doubleParenComma': /\\)\\s*\\)\\s*,\\s*\\(\\s*\\(/,\n            'ogcTypes': /^(multi)?(point|line|polygon|box)?(string)?$/i, // Captures e.g. \"Multi\",\"Line\",\"String\"\n            'crudeJson': /^{.*\"(type|coordinates|geometries|features)\":.*}$/ // Attempts to recognize JSON strings\n        };\n\n        /**\n         * Strip any whitespace and parens from front and back.\n         * This is the equivalent of s/^\\s*\\(?(.*)\\)?\\s*$/$1/ but without the risk of catastrophic backtracking.\n         * @param   str {String}\n         */\n        this._stripWhitespaceAndParens = function (fullStr) {\n            var trimmed = fullStr.trim();\n            var noParens = trimmed.replace(/^\\(?(.*?)\\)?$/, '$1');\n            return noParens;\n        };\n\n        /**\n         * The internal representation of geometry--the \"components\" of geometry.\n         * @ignore\n         */\n        this.components = undefined;\n\n        // An initial WKT string may be provided\n        if (initializer && typeof initializer === 'string') {\n            this.read(initializer);\n        } else if (initializer && typeof initializer !== undefined) {\n            this.fromObject(initializer);\n        }\n\n    };\n\n\n\n    /**\n     * Returns true if the internal geometry is a collection of geometries.\n     * @return  {Boolean}   Returns true when it is a collection\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.isCollection = function () {\n        switch (this.type.slice(0, 5)) {\n            case 'multi':\n                // Trivial; any multi-geometry is a collection\n                return true;\n            case 'polyg':\n                // Polygons with holes are \"collections\" of rings\n                return true;\n            default:\n                // Any other geometry is not a collection\n                return false;\n        }\n    };\n\n    /**\n     * Compares two x,y coordinates for equality.\n     * @param   a   {Object}    An object with x and y properties\n     * @param   b   {Object}    An object with x and y properties\n     * @return      {Boolean}\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.sameCoords = function (a, b) {\n        return (a.x === b.x && a.y === b.y);\n    };\n\n    /**\n     * Sets internal geometry (components) from framework geometry (e.g.\n     * Google Polygon objects or google.maps.Polygon).\n     * @param   obj {Object}    The framework-dependent geometry representation\n     * @return      {this.Wkt.Wkt}   The object itself\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.fromObject = function (obj) {\n        var result;\n\n        if (obj.hasOwnProperty('type') && obj.hasOwnProperty('coordinates')) {\n            result = this.fromJson(obj);\n        } else {\n            result = this.deconstruct.call(this, obj);\n        }\n\n        this.components = result.components;\n        this.isRectangle = result.isRectangle || false;\n        this.type = result.type;\n        return this;\n    };\n\n    /**\n     * Creates external geometry objects based on a plug-in framework's\n     * construction methods and available geometry classes.\n     * @param   config  {Object}    An optional framework-dependent properties specification\n     * @return          {Object}    The framework-dependent geometry representation\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.toObject = function (config) {\n        var obj = this.construct[this.type].call(this, config);\n        // Don't assign the \"properties\" property to an Array\n        if (typeof obj === 'object' && !Wkt.isArray(obj)) {\n            obj.properties = this.properties;\n        }\n        return obj;\n    };\n\n    /**\n     * Returns the WKT string representation; the same as the write() method.\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.toString = function (config) {\n        return this.write();\n    };\n\n    /**\n     * Parses a JSON representation as an Object.\n     * @param\tobj\t{Object}\tAn Object with the GeoJSON schema\n     * @return\t{this.Wkt.Wkt}\tThe object itself\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.fromJson = function (obj) {\n        var i, j, k, coords, iring, oring;\n\n        this.type = obj.type.toLowerCase();\n        this.components = [];\n        if (obj.hasOwnProperty('geometry')) { //Feature\n            this.fromJson(obj.geometry);\n            this.properties = obj.properties;\n            return this;\n        }\n        coords = obj.coordinates;\n\n        if (!Wkt.isArray(coords[0])) { // Point\n            this.components.push({\n                x: coords[0],\n                y: coords[1]\n            });\n\n        } else {\n\n            for (i in coords) {\n                if (coords.hasOwnProperty(i)) {\n\n                    if (!Wkt.isArray(coords[i][0])) { // LineString\n\n                        if (this.type === 'multipoint') { // MultiPoint\n                            this.components.push([{\n                                x: coords[i][0],\n                                y: coords[i][1]\n                            }]);\n\n                        } else {\n                            this.components.push({\n                                x: coords[i][0],\n                                y: coords[i][1]\n                            });\n\n                        }\n\n                    } else {\n\n                        oring = [];\n                        for (j in coords[i]) {\n                            if (coords[i].hasOwnProperty(j)) {\n\n                                if (!Wkt.isArray(coords[i][j][0])) {\n                                    oring.push({\n                                        x: coords[i][j][0],\n                                        y: coords[i][j][1]\n                                    });\n\n                                } else {\n\n                                    iring = [];\n                                    for (k in coords[i][j]) {\n                                        if (coords[i][j].hasOwnProperty(k)) {\n\n                                            iring.push({\n                                                x: coords[i][j][k][0],\n                                                y: coords[i][j][k][1]\n                                            });\n\n                                        }\n                                    }\n\n                                    oring.push(iring);\n\n                                }\n\n                            }\n                        }\n\n                        this.components.push(oring);\n                    }\n                }\n            }\n\n        }\n\n        return this;\n    };\n\n    /**\n     * Creates a JSON representation, with the GeoJSON schema, of the geometry.\n     * @return    {Object}    The corresponding GeoJSON representation\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.toJson = function () {\n        var cs, json, i, j, k, ring, rings;\n\n        cs = this.components;\n        json = {\n            coordinates: [],\n            type: (function () {\n                var i, type, s;\n\n                type = this.regExes.ogcTypes.exec(this.type).slice(1);\n                s = [];\n\n                for (i in type) {\n                    if (type.hasOwnProperty(i)) {\n                        if (type[i] !== undefined) {\n                            s.push(type[i].toLowerCase().slice(0, 1).toUpperCase() + type[i].toLowerCase().slice(1));\n                        }\n                    }\n                }\n\n                return s;\n            }.call(this)).join('')\n        }\n\n        // Wkt BOX type gets a special bbox property in GeoJSON\n        if (this.type.toLowerCase() === 'box') {\n            json.type = 'Polygon';\n            json.bbox = [];\n\n            for (i in cs) {\n                if (cs.hasOwnProperty(i)) {\n                    json.bbox = json.bbox.concat([cs[i].x, cs[i].y]);\n                }\n            }\n\n            json.coordinates = [\n                [\n                    [cs[0].x, cs[0].y],\n                    [cs[0].x, cs[1].y],\n                    [cs[1].x, cs[1].y],\n                    [cs[1].x, cs[0].y],\n                    [cs[0].x, cs[0].y]\n                ]\n            ];\n\n            return json;\n        }\n\n        // For the coordinates of most simple features\n        for (i in cs) {\n            if (cs.hasOwnProperty(i)) {\n\n                // For those nested structures\n                if (Wkt.isArray(cs[i])) {\n                    rings = [];\n\n                    for (j in cs[i]) {\n                        if (cs[i].hasOwnProperty(j)) {\n\n                            if (Wkt.isArray(cs[i][j])) { // MULTIPOLYGONS\n                                ring = [];\n\n                                for (k in cs[i][j]) {\n                                    if (cs[i][j].hasOwnProperty(k)) {\n                                        ring.push([cs[i][j][k].x, cs[i][j][k].y]);\n                                    }\n                                }\n\n                                rings.push(ring);\n\n                            } else { // POLYGONS and MULTILINESTRINGS\n\n                                if (cs[i].length > 1) {\n                                    rings.push([cs[i][j].x, cs[i][j].y]);\n\n                                } else { // MULTIPOINTS\n                                    rings = rings.concat([cs[i][j].x, cs[i][j].y]);\n                                }\n                            }\n                        }\n                    }\n\n                    json.coordinates.push(rings);\n\n                } else {\n                    if (cs.length > 1) { // For LINESTRING type\n                        json.coordinates.push([cs[i].x, cs[i].y]);\n\n                    } else { // For POINT type\n                        json.coordinates = json.coordinates.concat([cs[i].x, cs[i].y]);\n                    }\n                }\n\n            }\n        }\n\n        return json;\n    };\n\n    /**\n     * Absorbs the geometry of another this.Wkt.Wkt instance, merging it with its own,\n     * creating a collection (MULTI-geometry) based on their types, which must agree.\n     * For example, creates a MULTIPOLYGON from a POLYGON type merged with another\n     * POLYGON type, or adds a POLYGON instance to a MULTIPOLYGON instance.\n     * @param   wkt {String}    A Wkt.Wkt object\n     * @return\t{this.Wkt.Wkt}\tThe object itself\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.merge = function (wkt) {\n        var prefix = this.type.slice(0, 5);\n\n        if (this.type !== wkt.type) {\n            if (this.type.slice(5, this.type.length) !== wkt.type) {\n                throw TypeError('The input geometry types must agree or the calling this.Wkt.Wkt instance must be a multigeometry of the other');\n            }\n        }\n\n        switch (prefix) {\n\n            case 'point':\n                this.components = [this.components.concat(wkt.components)];\n                break;\n\n            case 'multi':\n                this.components = this.components.concat((wkt.type.slice(0, 5) === 'multi') ? wkt.components : [wkt.components]);\n                break;\n\n            default:\n                this.components = [\n                    this.components,\n                    wkt.components\n                ];\n                break;\n\n        }\n\n        if (prefix !== 'multi') {\n            this.type = 'multi' + this.type;\n        }\n        return this;\n    };\n\n    /**\n     * Reads a WKT string, validating and incorporating it.\n     * @param   str {String}    A WKT or GeoJSON string\n     * @return\t{this.Wkt.Wkt}\tThe object itself\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.read = function (str) {\n        var matches;\n        matches = this.regExes.typeStr.exec(str);\n        if (matches) {\n            this.type = matches[1].toLowerCase();\n            this.base = matches[2];\n            if (this.ingest[this.type]) {\n                this.components = this.ingest[this.type].apply(this, [this.base]);\n            }\n\n        } else {\n            if (this.regExes.crudeJson.test(str)) {\n                if (typeof JSON === 'object' && typeof JSON.parse === 'function') {\n                    this.fromJson(JSON.parse(str));\n\n                } else {\n                    console.log('JSON.parse() is not available; cannot parse GeoJSON strings');\n                    throw {\n                        name: 'JSONError',\n                        message: 'JSON.parse() is not available; cannot parse GeoJSON strings'\n                    };\n                }\n\n            } else {\n                console.log('Invalid WKT string provided to read()');\n                throw {\n                    name: 'WKTError',\n                    message: 'Invalid WKT string provided to read()'\n                };\n            }\n        }\n\n        return this;\n    }; // eo readWkt\n\n    /**\n     * Writes a WKT string.\n     * @param   components  {Array}     An Array of internal geometry objects\n     * @return              {String}    The corresponding WKT representation\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.write = function (components) {\n        var i, pieces, data;\n\n        components = components || this.components;\n\n        pieces = [];\n\n        pieces.push(this.type.toUpperCase() + '(');\n\n        for (i = 0; i < components.length; i += 1) {\n            if (this.isCollection() && i > 0) {\n                pieces.push(',');\n            }\n\n            // There should be an extract function for the named type\n            if (!this.extract[this.type]) {\n                return null;\n            }\n\n            data = this.extract[this.type].apply(this, [components[i]]);\n            if (this.isCollection() && this.type !== 'multipoint') {\n                pieces.push('(' + data + ')');\n\n            } else {\n                pieces.push(data);\n\n                // If not at the end of the components, add a comma\n                if (i !== (components.length - 1) && this.type !== 'multipoint') {\n                    pieces.push(',');\n                }\n\n            }\n        }\n\n        pieces.push(')');\n\n        return pieces.join('');\n    };\n\n    /**\n     * This object contains functions as property names that extract WKT\n     * strings from the internal representation.\n     * @memberof this.Wkt.Wkt\n     * @namespace this.Wkt.Wkt.extract\n     * @instance\n     */\n    Wkt.Wkt.prototype.extract = {\n        /**\n         * Return a WKT string representing atomic (point) geometry\n         * @param   point   {Object}    An object with x and y properties\n         * @return          {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        point: function (point) {\n            return String(point.x) + this.delimiter + String(point.y);\n        },\n\n        /**\n         * Return a WKT string representing multiple atoms (points)\n         * @param   multipoint  {Array}     Multiple x-and-y objects\n         * @return              {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        multipoint: function (multipoint) {\n            var i, parts = [],\n                s;\n\n            for (i = 0; i < multipoint.length; i += 1) {\n                s = this.extract.point.apply(this, [multipoint[i]]);\n\n                if (this.wrapVertices) {\n                    s = '(' + s + ')';\n                }\n\n                parts.push(s);\n            }\n\n            return parts.join(',');\n        },\n\n        /**\n         * Return a WKT string representing a chain (linestring) of atoms\n         * @param   linestring  {Array}     Multiple x-and-y objects\n         * @return              {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        linestring: function (linestring) {\n            // Extraction of linestrings is the same as for points\n            return this.extract.point.apply(this, [linestring]);\n        },\n\n        /**\n         * Return a WKT string representing multiple chains (multilinestring) of atoms\n         * @param   multilinestring {Array}     Multiple of multiple x-and-y objects\n         * @return                  {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        multilinestring: function (multilinestring) {\n            var i, parts = [];\n\n            if (multilinestring.length) {\n                for (i = 0; i < multilinestring.length; i += 1) {\n                    parts.push(this.extract.linestring.apply(this, [multilinestring[i]]));\n                }\n            } else {\n                parts.push(this.extract.point.apply(this, [multilinestring]));\n            }\n\n            return parts.join(',');\n        },\n\n        /**\n         * Return a WKT string representing multiple atoms in closed series (polygon)\n         * @param   polygon {Array}     Collection of ordered x-and-y objects\n         * @return          {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        polygon: function (polygon) {\n            // Extraction of polygons is the same as for multilinestrings\n            return this.extract.multilinestring.apply(this, [polygon]);\n        },\n\n        /**\n         * Return a WKT string representing multiple closed series (multipolygons) of multiple atoms\n         * @param   multipolygon    {Array}     Collection of ordered x-and-y objects\n         * @return                  {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        multipolygon: function (multipolygon) {\n            var i, parts = [];\n            for (i = 0; i < multipolygon.length; i += 1) {\n                parts.push('(' + this.extract.polygon.apply(this, [multipolygon[i]]) + ')');\n            }\n            return parts.join(',');\n        },\n\n        /**\n         * Return a WKT string representing a 2DBox\n         * @param   multipolygon    {Array}     Collection of ordered x-and-y objects\n         * @return                  {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        box: function (box) {\n            return this.extract.linestring.apply(this, [box]);\n        },\n\n        geometrycollection: function (str) {\n            console.log('The geometrycollection WKT type is not yet supported.');\n        }\n    };\n\n    /**\n     * This object contains functions as property names that ingest WKT\n     * strings into the internal representation.\n     * @memberof this.Wkt.Wkt\n     * @namespace this.Wkt.Wkt.ingest\n     * @instance\n     */\n    Wkt.Wkt.prototype.ingest = {\n\n        /**\n         * Return point feature given a point WKT fragment.\n         * @param   str {String}    A WKT fragment representing the point\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        point: function (str) {\n            var coords = Wkt.trim(str).split(this.regExes.spaces);\n            // In case a parenthetical group of coordinates is passed...\n            return [{ // ...Search for numeric substrings\n                x: parseFloat(this.regExes.numeric.exec(coords[0])[0]),\n                y: parseFloat(this.regExes.numeric.exec(coords[1])[0])\n            }];\n        },\n\n        /**\n         * Return a multipoint feature given a multipoint WKT fragment.\n         * @param   str {String}    A WKT fragment representing the multipoint\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        multipoint: function (str) {\n            var i, components, points;\n            components = [];\n            points = Wkt.trim(str).split(this.regExes.comma);\n            for (i = 0; i < points.length; i += 1) {\n                components.push(this.ingest.point.apply(this, [points[i]]));\n            }\n            return components;\n        },\n\n        /**\n         * Return a linestring feature given a linestring WKT fragment.\n         * @param   str {String}    A WKT fragment representing the linestring\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        linestring: function (str) {\n            var i, multipoints, components;\n\n            // In our x-and-y representation of components, parsing\n            //  multipoints is the same as parsing linestrings\n            multipoints = this.ingest.multipoint.apply(this, [str]);\n\n            // However, the points need to be joined\n            components = [];\n            for (i = 0; i < multipoints.length; i += 1) {\n                components = components.concat(multipoints[i]);\n            }\n            return components;\n        },\n\n        /**\n         * Return a multilinestring feature given a multilinestring WKT fragment.\n         * @param   str {String}    A WKT fragment representing the multilinestring\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        multilinestring: function (str) {\n            var i, components, line, lines;\n            components = [];\n\n            lines = Wkt.trim(str).split(this.regExes.doubleParenComma);\n            if (lines.length === 1) { // If that didn't work...\n                lines = Wkt.trim(str).split(this.regExes.parenComma);\n            }\n\n            for (i = 0; i < lines.length; i += 1) {\n                line = this._stripWhitespaceAndParens(lines[i]);\n                components.push(this.ingest.linestring.apply(this, [line]));\n            }\n\n            return components;\n        },\n\n        /**\n         * Return a polygon feature given a polygon WKT fragment.\n         * @param   str {String}    A WKT fragment representing the polygon\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        polygon: function (str) {\n            var i, j, components, subcomponents, ring, rings;\n            rings = Wkt.trim(str).split(this.regExes.parenComma);\n            components = []; // Holds one or more rings\n            for (i = 0; i < rings.length; i += 1) {\n                ring = this._stripWhitespaceAndParens(rings[i]).split(this.regExes.comma);\n                subcomponents = []; // Holds the outer ring and any inner rings (holes)\n                for (j = 0; j < ring.length; j += 1) {\n                    // Split on the empty space or '+' character (between coordinates)\n                    var split = ring[j].split(this.regExes.spaces);\n                    if (split.length > 2) {\n                        //remove the elements which are blanks\n                        split = split.filter(function (n) {\n                            return n != \"\"\n                        });\n                    }\n                    if (split.length === 2) {\n                        var x_cord = split[0];\n                        var y_cord = split[1];\n\n                        //now push\n                        subcomponents.push({\n                            x: parseFloat(x_cord),\n                            y: parseFloat(y_cord)\n                        });\n                    }\n                }\n                components.push(subcomponents);\n            }\n            return components;\n        },\n\n        /**\n         * Return box vertices (which would become the Rectangle bounds) given a Box WKT fragment.\n         * @param   str {String}    A WKT fragment representing the box\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        box: function (str) {\n            var i, multipoints, components;\n\n            // In our x-and-y representation of components, parsing\n            //  multipoints is the same as parsing linestrings\n            multipoints = this.ingest.multipoint.apply(this, [str]);\n\n            // However, the points need to be joined\n            components = [];\n            for (i = 0; i < multipoints.length; i += 1) {\n                components = components.concat(multipoints[i]);\n            }\n\n            return components;\n        },\n\n        /**\n         * Return a multipolygon feature given a multipolygon WKT fragment.\n         * @param   str {String}    A WKT fragment representing the multipolygon\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        multipolygon: function (str) {\n            var i, components, polygon, polygons;\n            components = [];\n            polygons = Wkt.trim(str).split(this.regExes.doubleParenComma);\n            for (i = 0; i < polygons.length; i += 1) {\n                polygon = this._stripWhitespaceAndParens(polygons[i]);\n                components.push(this.ingest.polygon.apply(this, [polygon]));\n            }\n            return components;\n        },\n\n        /**\n         * Return an array of features given a geometrycollection WKT fragment.\n         * @param   str {String}    A WKT fragment representing the geometry collection\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        geometrycollection: function (str) {\n            console.log('The geometrycollection WKT type is not yet supported.');\n        }\n\n    }; // eo ingest\n\n    return Wkt;\n}));\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","module.exports = __webpack_public_path__ + \"img/carbon_bus_w.21b33b66.svg\";","module.exports = __webpack_public_path__ + \"img/walkbus.665fe3f1.svg\";","var global = require('../internals/global');\nvar isRegExp = require('../internals/is-regexp');\n\nvar TypeError = global.TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","<template>\r\n  <div class=\"h-100 d-flex flex-column\">\r\n    <div class=\"bread-bar\">\r\n      <ol class=\"breadcrumb m-0 d-md-flex d-none\">\r\n        <li class=\"breadcrumb-item\"><a href=\"#\"></a></li>\r\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">\r\n          <span v-if=\"city\">{{ $filters.replaceCity(city) }}</span>\r\n        </li>\r\n      </ol>\r\n      <div class=\"mobile-control-bar  d-flex d-md-none\">\r\n        <div class=\"city\">\r\n          <span class=\"material-icons\">\r\n          location_on\r\n          </span>\r\n          <span v-if=\"city\">{{ $filters.replaceCity(city) }}</span>\r\n        </div>\r\n        <div class=\"tool\">\r\n          <div class=\"map\" :class=\"{ active: mobileTool === 'map' }\"\r\n          @click=\"showArea('map')\">\r\n            <i class=\"bi bi-pin-map me-1\"></i>\r\n          </div>\r\n          <div class=\"time\" :class=\"{ active: mobileTool === 'time' }\" v-if=\"stopOfRouteBack.length > 0 && stopOfRouteTo.length > 0\"\r\n          @click=\"showArea('time')\">\r\n            <i class=\"bi bi-clock me-1\"></i>\r\n          </div>\r\n          <div class=\"route\" :class=\"{ active: mobileTool === 'route' }\"\r\n          @click=\"showArea('route')\">\r\n            <i class=\"bi bi-map me-1\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"map-wrap\">\r\n      <div class=\"route-search-area active\">\r\n        <div class=\"route-search-header\">\r\n          <input type=\"search\" class=\"form-control\" id=\"routeNumber\" placeholder=\"\"\r\n          v-model=\"routeKeyword\"\r\n          @keyup=\"getRoute()\">\r\n        </div>\r\n        <div class=\"route-search-body\">\r\n          <ul class=\"route-list\">\r\n            <li class=\"route-list-item\" v-for=\"item in routeList\" :key=\"item.RouteUID\"\r\n            @click=\"toRouteDetailClick(item)\">\r\n              <div class=\"d-flex justify-content-between\">\r\n                <div class=\"title\">{{ item.RouteName.Zh_tw }}</div>\r\n                <div class=\"icon\">\r\n                  <a href=\"#\"\r\n                  @click.prevent=\"updateLikes(item)\">\r\n                    <span class=\"material-icons love\" v-if=\"buslikesId.includes(item.RouteUID)\">\r\n                    favorite\r\n                    </span>\r\n                    <span class=\"material-icons\" v-else>\r\n                    favorite_border\r\n                    </span>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              <div class=\"d-flex justify-content-between\">\r\n                <div class=\"od\">{{ item.DepartureStopNameZh }}-{{ item.DestinationStopNameZh }}</div>\r\n                <div class=\"city\"><span v-if=\"city\">{{ $filters.replaceCity(city) }}</span></div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"route-stop-area\">\r\n        <a href=\"#\" class=\"return\"\r\n        @click.prevent=\"backToRouteSeachList()\">\r\n        <span class=\"material-icons\">chevron_left</span>\r\n        \r\n        </a>\r\n        <div class=\"refresh-bar\">\r\n          <div class=\"time\">{{ refreshTime }} </div>\r\n          <a href=\"#\" class=\"refresh ms-auto\"\r\n          @click.prevent=\"getStopOfRoute()\">\r\n          <span class=\"material-icons\">autorenew</span>\r\n          \r\n          </a>\r\n      </div>\r\n        <div class=\"route-stop-header\">\r\n          <div class=\"route-name\">\r\n          {{ selectRoute }}\r\n          <a href=\"#\"\r\n          @click.prevent=\"updateLikes_(selectRoute, selectRouteUID, stopOfRouteBack[stopOfRouteBack.length - 1].StopName.Zh_tw, stopOfRouteTo[stopOfRouteTo.length - 1].StopName.Zh_tw, city)\">\r\n          <span class=\"material-icons love\" v-if=\"buslikesId.includes(selectRouteUID)\">\r\n            favorite\r\n          </span>\r\n          <span class=\"material-icons\" v-else>\r\n            favorite_border\r\n          </span>\r\n          </a>\r\n          </div>\r\n        </div>\r\n        <ul class=\"nav nav-tabs\" role=\"tablist\">\r\n            <li class=\"nav-item od-nav\" role=\"presentation\">\r\n              <button class=\"nav-link\" :class=\"{ active: toOrBack === 'to'}\" id=\"go-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#go\" type=\"button\"\r\n              @click=\"changeToOrBack('to')\">\r\n                <div class=\"fw-700 truncateText\" v-if=\"stopOfRouteTo.length > 0\"> {{ stopOfRouteTo[stopOfRouteTo.length - 1].StopName.Zh_tw }}</div>\r\n              </button>\r\n            </li>\r\n            <li class=\"nav-item od-nav\" role=\"presentation\">\r\n              <button class=\"nav-link\" :class=\"{ active: toOrBack === 'back'}\" id=\"back-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#back\" type=\"button\"\r\n              @click=\"changeToOrBack('back')\">\r\n                <div class=\"fw-700 truncateText\" v-if=\"stopOfRouteBack.length > 0\"> {{ stopOfRouteBack[stopOfRouteBack.length - 1].StopName.Zh_tw }}</div>\r\n              </button>\r\n            </li>\r\n        </ul>\r\n        <div class=\"route-stop-content\">\r\n          <div class=\"tab-content py-3\" id=\"routeTabContent\">\r\n              <div class=\"tab-pane fade show active\" id=\"go\" role=\"tabpanel\" v-if=\"stopOfRouteTo.length > 0\">\r\n                <ul class=\"route-stop-list\">\r\n                  <li class=\"route-stop-item\" v-for=\"stop in stopOfRouteTo\" :key=\"stop.StopUID\"\r\n                  @click=\"panToPosition(stop.StopPosition.PositionLat, stop.StopPosition.PositionLon)\">\r\n                    <div class=\"time\" :class=\"{ active : stop.EstimateTime <= 180 , 'disconnect': stop.StopStatus !== 0}\">\r\n                      <span v-if=\"stop.StopStatus === 0\">\r\n                        <span v-if=\"stop.EstimateTime <= 180 && stop.PlateNumb\"></span>\r\n                        <span v-else-if=\"stop.EstimateTime <= 180\"></span>\r\n                        <span v-else>{{  $filters.toMinute(stop.EstimateTime) }}</span>\r\n                      </span>\r\n                      <span v-else-if=\"stop.StopStatus === 1\"></span>\r\n                      <span v-else-if=\"stop.StopStatus === 2\"></span>\r\n                      <span v-else-if=\"stop.StopStatus === 3\"></span>\r\n                      <span v-else></span>\r\n                    </div>\r\n                    <div class=\"stop-name\">{{ stop.StopName.Zh_tw }}</div>\r\n                    <div class=\"plate-numb\">\r\n                      <span v-if=\"stop.PlateNumb\">{{ stop.PlateNumb }}</span>\r\n                    </div>\r\n                    <div class=\"status-dot\" :class=\"{ 'bus-on' : stop.PlateNumb }\"></div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"tab-pane fade\" id=\"back\" role=\"tabpanel\" v-if=\"stopOfRouteBack.length > 0\">\r\n                <ul class=\"route-stop-list\">\r\n                  <li class=\"route-stop-item\" v-for=\"stop in stopOfRouteBack\" :key=\"stop.StopUID\"\r\n                  @click=\"panToPosition(stop.StopPosition.PositionLat, stop.StopPosition.PositionLon)\">\r\n                    <div class=\"time\" :class=\"{ active : stop.EstimateTime <= 180, 'disconnect': stop.StopStatus !== 0}\">\r\n                      <span v-if=\"stop.StopStatus === 0\">\r\n                        <span v-if=\"stop.EstimateTime <= 180 && stop.PlateNumb\"></span>\r\n                        <span v-else-if=\"stop.EstimateTime <= 180\"></span>\r\n                        <span v-else>{{  $filters.toMinute(stop.EstimateTime) }}</span>\r\n                      </span>\r\n                      <span v-else-if=\"stop.StopStatus === 1\"></span>\r\n                      <span v-else-if=\"stop.StopStatus === 2\"></span>\r\n                      <span v-else-if=\"stop.StopStatus === 3\"></span>\r\n                      <span v-else></span>\r\n                    </div>\r\n                    <div class=\"stop-name\" :class=\"{ active : stop.PlateNumb, 'disconnect': stop.StopStatus !== 0}\">{{ stop.StopName.Zh_tw }}</div>\r\n                    <div class=\"plate-numb\">\r\n                      <span v-if=\"stop.PlateNumb\">{{ stop.PlateNumb }}</span>\r\n                    </div>\r\n                    <div class=\"status-dot\" :class=\"{ 'bus-on' : stop.PlateNumb , 'bus-close' : stop.EstimateTime <= 180 }\"></div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"gps-icon\" @click=\"locateGPS()\">\r\n        <img src=\"@/assets/images/gps.svg\" class=\"icon-filter\" alt=\"gps-icon\">\r\n      </div>\r\n      <div class=\"map\" id=\"map\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport $L from 'leaflet'\r\nimport Wkt from 'wicket'\r\nlet openStreetMap = {}\r\n\r\nconst walkBusIcon = new $L.Icon({\r\n  iconUrl: require('@/assets/images/walkbus.svg'),\r\n  iconSize: [40, 40],\r\n  iconAnchor: [20, 20],\r\n  popupAnchor: [0, -20]\r\n})\r\nconst stationInIcon = new $L.Icon({\r\n  iconUrl: require('@/assets/images/busStop_in.svg'),\r\n  iconSize: [28, 28],\r\n  iconAnchor: [14, 14],\r\n  popupAnchor: [0, -14]\r\n})\r\nconst stationIcon = new $L.Icon({\r\n  iconUrl: require('@/assets/images/busStop.svg'),\r\n  iconSize: [24, 24],\r\n  iconAnchor: [12, 12],\r\n  popupAnchor: [0, -12]\r\n})\r\nconst positionIcon = new $L.Icon({\r\n  iconUrl: require('@/assets/images/position.svg'),\r\n  iconSize: [49, 49],\r\n  iconAnchor: [24, 24],\r\n  popupAnchor: [0, -24]\r\n})\r\n\r\n// function removeMapMarker () {\r\n//   // console.log(typeof openStreetMap)\r\n//   openStreetMap.eachLayer((layer) => {\r\n//     if (layer instanceof $L.Marker) {\r\n//       openStreetMap.removeLayer(layer)\r\n//     }\r\n//     if (layer.toGeoJSON) {\r\n//       openStreetMap.removeLayer(layer)\r\n//     }\r\n//   })\r\n// }\r\nexport default {\r\n  data () {\r\n    return {\r\n      city: '',\r\n      routeList: [],\r\n      routeKeyword: '',\r\n      stopOfRouteTo: [],\r\n      stopOfRouteBack: [],\r\n      selectRoute: '',\r\n      selectRouteUID: '',\r\n      toOrBack: 'to',\r\n      routeGeometry: [],\r\n      routeLayer: null,\r\n      locationMarkerID: '',\r\n      walkBusMarker: [],\r\n      stopMarker: [],\r\n      mobileTool: 'route',\r\n      timer: null,\r\n      refreshTime: 0,\r\n      buslikes: [],\r\n      buslikesId: [],\r\n      prevRoute: null\r\n    }\r\n  },\r\n  methods: {\r\n    getRoute () {\r\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/Route/City/${this.city}/${this.routeKeyword}?$top=50&$format=JSON`\r\n      this.axios.get(url,\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          // console.log(response.data)\r\n          this.routeList = response.data\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    toRouteDetailClick (item) {\r\n      if (event.target.tagName !== 'SPAN') {\r\n        this.toRouteDetail(item.RouteName.Zh_tw, item.RouteUID)\r\n        this.fitBounds()\r\n      }\r\n    },\r\n    toRouteDetail (routeName, routeUID) {\r\n      // console.log('test', event.target.tagName)\r\n      document.querySelector('.route-search-area').classList.remove('active')\r\n      document.querySelector('.route-stop-area').classList.add('active')\r\n      this.selectRoute = routeName\r\n      this.selectRouteUID = routeUID\r\n      this.mobileTool = 'time'\r\n      this.getStopOfRoute()\r\n    },\r\n    backToRouteSeachList () {\r\n      // console.log(this.prevRoute)\r\n      if (this.prevRoute) {\r\n        if (this.prevRoute.name !== 'nearStation' && this.prevRoute.name !== 'busSearch' && this.prevRoute.name !== 'likeBus') {\r\n          document.querySelector('.route-search-area').classList.add('active')\r\n          document.querySelector('.route-stop-area').classList.remove('active')\r\n        } else {\r\n          this.$router.go(-1)\r\n        }\r\n      } else {\r\n        document.querySelector('.route-search-area').classList.add('active')\r\n        document.querySelector('.route-stop-area').classList.remove('active')\r\n      }\r\n    },\r\n    getStopOfRoute () {\r\n      if (this.timer) clearInterval(this.timer)\r\n      this.timeCountDown(21)\r\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/StopOfRoute/City/${this.city}?$filter=RouteUID%20eq%20'${this.selectRouteUID}'&$format=JSON`\r\n      this.axios.get(url,\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          response.data.forEach(x => {\r\n            if (x.Direction === 0) {\r\n              this.stopOfRouteTo = x.Stops\r\n            } else if (x.Direction === 1) {\r\n              this.stopOfRouteBack = x.Stops\r\n            }\r\n          })\r\n          this.getEstimateTime(this.selectRoute, this.selectRouteUID)\r\n          // continue\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getEstimateTime (routeName, routeUID) {\r\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/${this.city}/${routeName}?$filter=RouteUID%20in%20('${routeUID}')&$format=JSON`\r\n      this.axios.get(url,\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          // console.log(response.data)\r\n          response.data.forEach((x) => {\r\n            if (x.Direction === 0) {\r\n              this.stopOfRouteTo.forEach((route) => {\r\n                if (x.StopUID === route.StopUID) {\r\n                  route.EstimateTime = x.EstimateTime\r\n                  route.StopStatus = x.StopStatus\r\n                }\r\n              })\r\n            }\r\n            if (x.Direction === 1) {\r\n              this.stopOfRouteBack.forEach((route) => {\r\n                if (x.StopUID === route.StopUID) {\r\n                  route.EstimateTime = x.EstimateTime\r\n                  route.StopStatus = x.StopStatus\r\n                }\r\n              })\r\n            }\r\n          })\r\n          // continue\r\n          this.getPlateNum(routeName, routeUID)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getPlateNum (routeName, routeUID) {\r\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/RealTimeNearStop/City/${this.city}/${routeName}?$filter=RouteUID%20eq%20'${routeUID}'&$format=JSON`\r\n      this.axios.get(url,\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          // console.log(response.data)\r\n          response.data.forEach((bus) => {\r\n            if (bus.Direction === 0) {\r\n              this.stopOfRouteTo.forEach((route) => {\r\n                if (bus.StopUID === route.StopUID) {\r\n                  route.PlateNumb = bus.PlateNumb\r\n                  // console.log(bus.PlateNumb)\r\n                }\r\n              })\r\n            }\r\n            if (bus.Direction === 1) {\r\n              this.stopOfRouteBack.forEach((route) => {\r\n                if (bus.StopUID === route.StopUID) {\r\n                  route.PlateNumb = bus.PlateNumb\r\n                  // console.log(bus.PlateNumb)\r\n                }\r\n              })\r\n            }\r\n          })\r\n          // continue\r\n          this.getRouteGeometry(routeName, routeUID)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getRouteGeometry (routeName, routeUID) {\r\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/Shape/City/${this.city}/${routeName}?$filter=RouteUID%20eq%20'${routeUID}'&$format=JSON`\r\n      this.axios.get(url,\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          // console.log(response.data)\r\n          this.routeGeometry = response.data\r\n          // continue\r\n          openStreetMap.eachLayer((layer) => {\r\n            if (layer._leaflet_id !== this.locationMarkerID) {\r\n              if (layer instanceof $L.Marker) {\r\n                openStreetMap.removeLayer(layer)\r\n              }\r\n              if (layer instanceof $L.Popup) {\r\n                openStreetMap.removeLayer(layer)\r\n              }\r\n              if (layer.toGeoJSON) {\r\n                openStreetMap.removeLayer(layer)\r\n              }\r\n            }\r\n          })\r\n          this.addRouteLayer()\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    addRouteLayer () {\r\n      const geoStyle = {\r\n        color: '#345E8A',\r\n        weight: 4\r\n      }\r\n      let layer = null\r\n      this.routeGeometry.forEach((route) => {\r\n        const wicket = new Wkt.Wkt()\r\n        wicket.read(route.Geometry)\r\n        const geoJsonFeature = wicket.toJson()\r\n        try {\r\n          layer = $L.geoJSON(geoJsonFeature, { style: geoStyle }).addTo(openStreetMap)\r\n          layer.addData(geoJsonFeature)\r\n          this.routeLayer = layer\r\n          this.addRouteMarker()\r\n        } catch (e) {\r\n          console.log(e)\r\n        }\r\n      })\r\n    },\r\n    changeToOrBack (way) {\r\n      this.toOrBack = way\r\n      this.addRouteMarker()\r\n    },\r\n    addRouteMarker () {\r\n      let tempData = []\r\n      if (this.toOrBack === 'to') {\r\n        tempData = JSON.parse(JSON.stringify(this.stopOfRouteTo))\r\n      } else {\r\n        tempData = JSON.parse(JSON.stringify(this.stopOfRouteBack))\r\n      }\r\n      openStreetMap.eachLayer((layer) => {\r\n        if (layer._leaflet_id !== this.locationMarkerID) {\r\n          if (layer instanceof $L.Marker) {\r\n            openStreetMap.removeLayer(layer)\r\n          }\r\n          if (layer instanceof $L.Popup) {\r\n            openStreetMap.removeLayer(layer)\r\n          }\r\n        }\r\n      })\r\n      const zoomLevel = openStreetMap.getZoom()\r\n      if (zoomLevel > 15) {\r\n        this.zoomLevelAddMarker()\r\n      } else {\r\n        tempData.forEach((x, index) => {\r\n          if (x.PlateNumb) {\r\n            const marker = $L.marker([x.StopPosition.PositionLat, x.StopPosition.PositionLon], { icon: walkBusIcon })\r\n            marker.addTo(openStreetMap)\r\n          } else if (index === 0 || index === tempData.length - 1) {\r\n            const marker = $L.marker([x.StopPosition.PositionLat, x.StopPosition.PositionLon], { icon: stationIcon })\r\n            marker.addTo(openStreetMap)\r\n          }\r\n        })\r\n      }\r\n      // openStreetMap.setView([tempData[0].StopPosition.PositionLat, tempData[0].StopPosition.PositionLon], 14)\r\n    },\r\n    zoomLevelAddMarker () {\r\n      if (this.stopOfRouteTo.length > 0 && this.stopOfRouteBack.length > 0) {\r\n        const zoomLevel = openStreetMap.getZoom()\r\n        // console.log(zoomLevel)\r\n        if (zoomLevel <= 15) {\r\n          this.addRouteMarker()\r\n        } else {\r\n          let tempData = []\r\n          if (this.toOrBack === 'to') {\r\n            tempData = JSON.parse(JSON.stringify(this.stopOfRouteTo))\r\n          } else {\r\n            tempData = JSON.parse(JSON.stringify(this.stopOfRouteBack))\r\n          }\r\n          openStreetMap.eachLayer((layer) => {\r\n            if (layer._leaflet_id !== this.locationMarkerID) {\r\n              if (layer instanceof $L.Marker) {\r\n                openStreetMap.removeLayer(layer)\r\n              }\r\n              if (layer instanceof $L.Popup) {\r\n                openStreetMap.removeLayer(layer)\r\n              }\r\n            }\r\n          })\r\n          tempData.forEach((x, index) => {\r\n            const popupContent = this.createPopupContent(x)\r\n            const popup = $L.popup({\r\n              autoPan: false,\r\n              className: popupContent.status,\r\n              offset: [0, -12]\r\n            })\r\n            popup.setLatLng($L.latLng(x.StopPosition.PositionLat, x.StopPosition.PositionLon))\r\n            popup.setContent(popupContent.str)\r\n            openStreetMap.addLayer(popup)\r\n            if (popupContent.status === 'popupWarning') {\r\n              const marker = $L.marker([x.StopPosition.PositionLat, x.StopPosition.PositionLon], { icon: stationInIcon })\r\n                .bindPopup(popup)\r\n              // .on('click', markerOnClick)\r\n              marker.addTo(openStreetMap)\r\n            } else {\r\n              const marker = $L.marker([x.StopPosition.PositionLat, x.StopPosition.PositionLon], { icon: stationIcon })\r\n                .bindPopup(popup)\r\n              // .on('click', markerOnClick)\r\n              marker.addTo(openStreetMap)\r\n            }\r\n          })\r\n        }\r\n      }\r\n    },\r\n    createPopupContent (x) {\r\n      let status = ''\r\n      let statusCode = 'popupPrimary'\r\n      if (x.StopStatus === 0) {\r\n        if (x.EstimateTime <= 180 && x.PlateNumb) {\r\n          status = ''\r\n          statusCode = 'popupWarning'\r\n        } else if (x.EstimateTime <= 180) {\r\n          status = ''\r\n          statusCode = 'popupWarning'\r\n        } else {\r\n          status = this.$filters.toMinute(x.EstimateTime) + ' '\r\n        }\r\n      } else if (x.StopStatus === 1) {\r\n        status = ''\r\n        statusCode = 'popupSecondary'\r\n      } else if (x.StopStatus === 2) {\r\n        status = ''\r\n        statusCode = 'popupSecondary'\r\n      } else if (x.StopStatus === 3) {\r\n        status = ''\r\n        statusCode = 'popupSecondary'\r\n      }\r\n      const busImg = require('@/assets/images/carbon_bus_w.svg')\r\n      const busIcon = x.PlateNumb ? `<img src=\"${busImg}\" height=\"25\" alt=\"icon\">` : ''\r\n      const str = `\r\n      <div class=\"stop-popup\">\r\n        ${busIcon}\r\n        <div class=\"name\">${x.StopName.Zh_tw}</div>\r\n        <div class=\"time\">${status} </div>\r\n      </div>\r\n      `\r\n      return {\r\n        str: str,\r\n        status: statusCode\r\n      }\r\n    },\r\n    panToPosition (Lat, Lng) {\r\n      // console.log(Lat, Lng)\r\n      openStreetMap.setView([Lat, Lng], 18)\r\n      // console.log(window.innerWidth)\r\n      if (window.innerWidth < 768) {\r\n        this.showArea('map')\r\n      }\r\n    },\r\n    locateGPS () {\r\n      // \r\n      navigator.geolocation.getCurrentPosition(position => {\r\n        openStreetMap.eachLayer((layer) => {\r\n          if (layer._leaflet_id === this.locationMarkerID) {\r\n            openStreetMap.removeLayer(layer)\r\n          }\r\n        })\r\n        const locate = [position.coords.latitude, position.coords.longitude]\r\n        openStreetMap.setView(locate, 15)\r\n        document.querySelector('.gps-icon').classList.add('active')\r\n        const marker = $L.marker([position.coords.latitude, position.coords.longitude], { icon: positionIcon })\r\n        marker.addTo(openStreetMap)\r\n        this.locationMarkerID = marker._leaflet_id\r\n      })\r\n    },\r\n    showArea (area) {\r\n      if (area === 'map') {\r\n        this.mobileTool = 'map'\r\n        document.querySelector('.route-search-area').classList.remove('active')\r\n        document.querySelector('.route-stop-area').classList.remove('active')\r\n      } else if (area === 'route') {\r\n        this.mobileTool = 'route'\r\n        document.querySelector('.route-search-area').classList.add('active')\r\n        document.querySelector('.route-stop-area').classList.remove('active')\r\n      } else if (area === 'time') {\r\n        this.mobileTool = 'time'\r\n        document.querySelector('.route-search-area').classList.remove('active')\r\n        document.querySelector('.route-stop-area').classList.add('active')\r\n      }\r\n    },\r\n    getParam () {\r\n      const pstr = '' + this.$route.params.queryString\r\n      const pjson = JSON.parse(pstr)\r\n      this.city = pjson.city\r\n      if (pjson.route && pjson.routeUID) {\r\n        this.selectRoute = pjson.route\r\n        this.selectRouteUID = pjson.routeUID\r\n        this.toOrBack = pjson.direction === 0 ? 'to' : 'back'\r\n        this.toRouteDetail(this.selectRoute, this.selectRouteUID)\r\n        if (pjson.LatLon.length > 0) {\r\n          this.panToPosition(pjson.LatLon[0], pjson.LatLon[1])\r\n        } else {\r\n          this.fitBounds()\r\n        }\r\n        // console.log(pjson.LatLon[0], pjson.LatLon[1])\r\n      }\r\n      // console.log(pjson)\r\n    },\r\n    fitBounds () {\r\n      setTimeout(() => {\r\n        console.log('setTimeOut')\r\n        // let geoJsonFeature = null\r\n        // this.routeGeometry.forEach((route) => {\r\n        //   const wicket = new Wkt.Wkt()\r\n        //   wicket.read(route.Geometry)\r\n        //   geoJsonFeature = wicket.toJson()\r\n        //   console.log(geoJsonFeature)\r\n        // })\r\n        openStreetMap.fitBounds(this.routeLayer.getBounds())\r\n      }, 500)\r\n    },\r\n    timeCountDown (time) {\r\n      let timeRemaining = time\r\n      this.timer = setInterval(() => {\r\n        if (timeRemaining > 0) {\r\n          timeRemaining--\r\n          // console.log(timeRemaining)\r\n          this.refreshTime = timeRemaining\r\n        } else {\r\n          clearInterval(this.timer)\r\n          this.getStopOfRoute()\r\n        }\r\n      }, 1000)\r\n    },\r\n    getLikes () {\r\n      // console.log(localStorage.getItem('likelist'))\r\n      const likeStr = localStorage.getItem('busLikes') ? localStorage.getItem('busLikes') : '[]'\r\n      this.buslikes = JSON.parse(likeStr)\r\n      this.buslikesId = this.buslikes.map(x => { return x.routeUID })\r\n    },\r\n    updateLikes_ (routeName, routeUID, startStop, endStop, city) {\r\n      if (this.buslikesId.includes(routeUID)) {\r\n        this.buslikes.splice(this.buslikes.map(x => { return x.routeUID }).indexOf(routeUID), 1)\r\n        this.buslikesId.splice(this.buslikesId.indexOf(routeUID), 1)\r\n      } else {\r\n        this.buslikes.push({\r\n          routeUID: routeUID,\r\n          routeName: routeName,\r\n          start: startStop,\r\n          end: endStop,\r\n          city: city\r\n        })\r\n        this.buslikesId.push(routeUID)\r\n      }\r\n    },\r\n    updateLikes (router) {\r\n      if (this.buslikesId.includes(router.RouteUID)) {\r\n        this.buslikes.splice(this.buslikes.map(x => { return x.routeUID }).indexOf(router.RouteUID), 1)\r\n        this.buslikesId.splice(this.buslikesId.indexOf(router.RouteUID), 1)\r\n      } else {\r\n        this.buslikes.push({\r\n          routeUID: router.RouteUID,\r\n          routeName: router.RouteName.Zh_tw,\r\n          start: router.DepartureStopNameZh,\r\n          end: router.DestinationStopNameZh,\r\n          city: this.city\r\n        })\r\n        this.buslikesId.push(router.RouteUID)\r\n      }\r\n    },\r\n    saveLocalStorage (data) {\r\n      const datastr = JSON.stringify(data)\r\n      try {\r\n        localStorage.setItem('busLikes', datastr)\r\n      } catch (e) {\r\n        return false\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    buslikes: {\r\n      handler (n, o) {\r\n        this.saveLocalStorage(this.buslikes)\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  beforeRouteEnter (to, from, next) {\r\n    next(vm => {\r\n      vm.prevRoute = from\r\n    })\r\n  },\r\n  mounted () {\r\n    // this.city = this.$route.params.city\r\n    // quick start\r\n    openStreetMap = $L.map('map', {\r\n      zoomControl: false,\r\n      center: [23.51357237187571, 120.21110434230025],\r\n      zoom: 8,\r\n      tap: false\r\n    })\r\n    $L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      attribution:\r\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n    }).addTo(openStreetMap)\r\n\r\n    // resset zoom position\r\n    $L.control.zoom({\r\n      position: 'bottomright'\r\n    }).addTo(openStreetMap)\r\n    openStreetMap.on('moveend', function () {\r\n      document.querySelector('.gps-icon').classList.remove('active')\r\n    })\r\n    const func = this.zoomLevelAddMarker\r\n    openStreetMap.on('zoomend', function () {\r\n      func()\r\n    })\r\n    this.getParam()\r\n    this.getLikes()\r\n  },\r\n  unmounted () {\r\n    if (this.timer) clearInterval(this.timer)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./BusSearch.vue?vue&type=template&id=05b79690\"\nimport script from \"./BusSearch.vue?vue&type=script&lang=js\"\nexport * from \"./BusSearch.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\F2E\\\\bus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\nvar TypeError = global.TypeError;\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = lengthOfArrayLike(E);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar TypeError = global.TypeError;\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n","module.exports = __webpack_public_path__ + \"img/busStop.2fb86a4d.svg\";"],"sourceRoot":""}