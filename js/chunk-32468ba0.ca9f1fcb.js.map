{"version":3,"sources":["webpack:///./src/assets/images/busStop_in.svg","webpack:///./node_modules/wicket/wicket.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/assets/images/carbon_bus_w.svg","webpack:///./src/assets/images/walkbus.svg","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./src/views/BusSearch.vue","webpack:///./src/views/BusSearch.vue?5bfc","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.json.stringify.js","webpack:///./src/assets/images/busStop.svg"],"names":["module","exports","root","factory","this","beginsWith","endsWith","Wkt","obj","_wrapped","str","sub","substring","length","delimiter","isArray","constructor","Array","trim","initializer","wrapVertices","regExes","_stripWhitespaceAndParens","fullStr","trimmed","noParens","replace","components","undefined","read","fromObject","prototype","isCollection","type","slice","sameCoords","a","b","x","y","result","hasOwnProperty","fromJson","deconstruct","call","isRectangle","toObject","config","construct","properties","toString","write","i","j","k","coords","iring","oring","toLowerCase","geometry","coordinates","push","toJson","cs","json","ring","rings","s","ogcTypes","exec","toUpperCase","join","bbox","concat","merge","wkt","prefix","TypeError","matches","typeStr","base","ingest","apply","crudeJson","test","console","log","name","message","JSON","parse","pieces","data","extract","point","String","multipoint","parts","linestring","multilinestring","polygon","multipolygon","box","geometrycollection","split","spaces","parseFloat","numeric","points","comma","multipoints","line","lines","doubleParenComma","parenComma","subcomponents","filter","n","x_cord","y_cord","polygons","global","DOMIterables","DOMTokenListPrototype","forEach","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","$forEach","arrayMethodIsStrict","STRICT_METHOD","callbackfn","arguments","toPropertyKey","definePropertyModule","createPropertyDescriptor","object","key","value","propertyKey","f","class","href","aria-current","role","id","src","alt","city","mobileTool","showArea","stopOfRouteBack","stopOfRouteTo","placeholder","routeKeyword","getRoute","routeList","item","RouteUID","toRouteDetail","RouteName","Zh_tw","DepartureStopNameZh","DestinationStopNameZh","backToRouteSeachList","getStopOfRoute","selectRoute","toOrBack","data-bs-toggle","data-bs-target","changeToOrBack","StopName","stop","StopUID","panToPosition","StopPosition","PositionLat","PositionLon","EstimateTime","StopStatus","PlateNumb","$filters","toMinute","locateGPS","openStreetMap","walkBusIcon","Icon","iconUrl","iconSize","iconAnchor","popupAnchor","stationInIcon","stationIcon","positionIcon","selectRouteUID","routeGeometry","locationMarkerID","walkBusMarker","stopMarker","methods","url","axios","get","headers","$getAuthorizationHeader","then","response","catch","err","routeName","routeUID","document","querySelector","classList","remove","add","Direction","Stops","getEstimateTime","route","getPlateNum","bus","getRouteGeometry","eachLayer","layer","_leaflet_id","Marker","removeLayer","Popup","addRouteLayer","geoStyle","color","weight","wicket","Geometry","geoJsonFeature","geoJSON","style","addTo","addData","addRouteMarker","e","way","tempData","stringify","zoomLevel","getZoom","zoomLevelAddMarker","index","marker","icon","popupContent","createPopupContent","popup","autoPan","className","status","offset","setLatLng","latLng","setContent","addLayer","bindPopup","statusCode","busImg","busIcon","Lat","Lng","setView","window","innerWidth","navigator","geolocation","getCurrentPosition","position","locate","latitude","longitude","area","getParam","pstr","$route","params","queryString","pjson","direction","LatLon","mounted","map","zoomControl","center","zoom","tap","tileLayer","attribution","control","on","func","__exports__","render","$","fails","isObject","lengthOfArrayLike","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","FORCED","target","proto","forced","arg","len","E","A","METHOD_NAME","argument","method","getBuiltIn","uncurryThis","$stringify","charAt","charCodeAt","numberToString","tester","low","hi","fix","match","string","prev","next","stat","it","replacer","space","l","args"],"mappings":"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","file":"js/chunk-32468ba0.ca9f1fcb.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/busStop_in.bee2e2f7.svg\";","/** @license\n *\n *  Copyright (C) 2012 K. Arthur Endsley (kaendsle@mtu.edu)\n *  Michigan Tech Research Institute (MTRI)\n *  3600 Green Court, Suite 100, Ann Arbor, MI, 48105\n *\n *  This program is free software: you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation, either version 3 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n(function (root, factory) {\n\n    if (typeof define === \"function\" && define.amd) {\n        // AMD (+ global for extensions)\n        define(function () {\n            return factory();\n        });\n    } else if (typeof module !== 'undefined' && typeof exports === \"object\") {\n        // CommonJS\n        module.exports = factory();\n    } else {\n        // Browser\n        root.Wkt = factory();\n    }\n}(this, function () {\n\n\n    var beginsWith, endsWith, root, Wkt;\n\n    // Establish the root object, window in the browser, or exports on the server\n    root = this;\n\n    /**\n     * @desc The Wkt namespace.\n     * @property    {String}    delimiter   - The default delimiter for separating components of atomic geometry (coordinates)\n     * @namespace\n     * @global\n     */\n    Wkt = function (obj) {\n        if (obj instanceof Wkt) return obj;\n        if (!(this instanceof Wkt)) return new Wkt(obj);\n        this._wrapped = obj;\n    };\n\n\n\n    /**\n     * Returns true if the substring is found at the beginning of the string.\n     * @param   str {String}    The String to search\n     * @param   sub {String}    The substring of interest\n     * @return      {Boolean}\n     * @private\n     */\n    beginsWith = function (str, sub) {\n        return str.substring(0, sub.length) === sub;\n    };\n\n    /**\n     * Returns true if the substring is found at the end of the string.\n     * @param   str {String}    The String to search\n     * @param   sub {String}    The substring of interest\n     * @return      {Boolean}\n     * @private\n     */\n    endsWith = function (str, sub) {\n        return str.substring(str.length - sub.length) === sub;\n    };\n\n    /**\n     * The default delimiter for separating components of atomic geometry (coordinates)\n     * @ignore\n     */\n    Wkt.delimiter = ' ';\n\n    /**\n     * Determines whether or not the passed Object is an Array.\n     * @param   obj {Object}    The Object in question\n     * @return      {Boolean}\n     * @member Wkt.isArray\n     * @method\n     */\n    Wkt.isArray = function (obj) {\n        return !!(obj && obj.constructor === Array);\n    };\n\n    /**\n     * Removes given character String(s) from a String.\n     * @param   str {String}    The String to search\n     * @param   sub {String}    The String character(s) to trim\n     * @return      {String}    The trimmed string\n     * @member Wkt.trim\n     * @method\n     */\n    Wkt.trim = function (str, sub) {\n        sub = sub || ' '; // Defaults to trimming spaces\n        // Trim beginning spaces\n        while (beginsWith(str, sub)) {\n            str = str.substring(1);\n        }\n        // Trim ending spaces\n        while (endsWith(str, sub)) {\n            str = str.substring(0, str.length - 1);\n        }\n        return str;\n    };\n\n    /**\n     * An object for reading WKT strings and writing geographic features\n     * @constructor this.Wkt.Wkt\n     * @param   initializer {String}    An optional WKT string for immediate read\n     * @property            {Array}     components      - Holder for atomic geometry objects (internal representation of geometric components)\n     * @property            {String}    delimiter       - The default delimiter for separating components of atomic geometry (coordinates)\n     * @property            {Object}    regExes         - Some regular expressions copied from OpenLayers.Format.WKT.js\n     * @property            {String}    type            - The Well-Known Text name (e.g. 'point') of the geometry\n     * @property            {Boolean}   wrapVerticies   - True to wrap vertices in MULTIPOINT geometries; If true: MULTIPOINT((30 10),(10 30),(40 40)); If false: MULTIPOINT(30 10,10 30,40 40)\n     * @return              {this.Wkt.Wkt}\n     * @memberof Wkt\n     */\n    Wkt.Wkt = function (initializer) {\n\n        /**\n         * The default delimiter between X and Y coordinates.\n         * @ignore\n         */\n        this.delimiter = Wkt.delimiter || ' ';\n\n        /**\n         * Configuration parameter for controlling how Wicket seralizes\n         * MULTIPOINT strings. Examples; both are valid WKT:\n         * If true: MULTIPOINT((30 10),(10 30),(40 40))\n         * If false: MULTIPOINT(30 10,10 30,40 40)\n         * @ignore\n         */\n        this.wrapVertices = true;\n\n        /**\n         * Some regular expressions copied from OpenLayers.Format.WKT.js\n         * @ignore\n         */\n        this.regExes = {\n            'typeStr': /^\\s*(\\w+)\\s*\\(\\s*(.*)\\s*\\)\\s*$/,\n            'spaces': /\\s+|\\+/, // Matches the '+' or the empty space\n            'numeric': /-*\\d+(\\.*\\d+)?/,\n            'comma': /\\s*,\\s*/,\n            'parenComma': /\\)\\s*,\\s*\\(/,\n            'coord': /-*\\d+\\.*\\d+ -*\\d+\\.*\\d+/, // e.g. \"24 -14\"\n            'doubleParenComma': /\\)\\s*\\)\\s*,\\s*\\(\\s*\\(/,\n            'ogcTypes': /^(multi)?(point|line|polygon|box)?(string)?$/i, // Captures e.g. \"Multi\",\"Line\",\"String\"\n            'crudeJson': /^{.*\"(type|coordinates|geometries|features)\":.*}$/ // Attempts to recognize JSON strings\n        };\n\n        /**\n         * Strip any whitespace and parens from front and back.\n         * This is the equivalent of s/^\\s*\\(?(.*)\\)?\\s*$/$1/ but without the risk of catastrophic backtracking.\n         * @param   str {String}\n         */\n        this._stripWhitespaceAndParens = function (fullStr) {\n            var trimmed = fullStr.trim();\n            var noParens = trimmed.replace(/^\\(?(.*?)\\)?$/, '$1');\n            return noParens;\n        };\n\n        /**\n         * The internal representation of geometry--the \"components\" of geometry.\n         * @ignore\n         */\n        this.components = undefined;\n\n        // An initial WKT string may be provided\n        if (initializer && typeof initializer === 'string') {\n            this.read(initializer);\n        } else if (initializer && typeof initializer !== undefined) {\n            this.fromObject(initializer);\n        }\n\n    };\n\n\n\n    /**\n     * Returns true if the internal geometry is a collection of geometries.\n     * @return  {Boolean}   Returns true when it is a collection\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.isCollection = function () {\n        switch (this.type.slice(0, 5)) {\n            case 'multi':\n                // Trivial; any multi-geometry is a collection\n                return true;\n            case 'polyg':\n                // Polygons with holes are \"collections\" of rings\n                return true;\n            default:\n                // Any other geometry is not a collection\n                return false;\n        }\n    };\n\n    /**\n     * Compares two x,y coordinates for equality.\n     * @param   a   {Object}    An object with x and y properties\n     * @param   b   {Object}    An object with x and y properties\n     * @return      {Boolean}\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.sameCoords = function (a, b) {\n        return (a.x === b.x && a.y === b.y);\n    };\n\n    /**\n     * Sets internal geometry (components) from framework geometry (e.g.\n     * Google Polygon objects or google.maps.Polygon).\n     * @param   obj {Object}    The framework-dependent geometry representation\n     * @return      {this.Wkt.Wkt}   The object itself\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.fromObject = function (obj) {\n        var result;\n\n        if (obj.hasOwnProperty('type') && obj.hasOwnProperty('coordinates')) {\n            result = this.fromJson(obj);\n        } else {\n            result = this.deconstruct.call(this, obj);\n        }\n\n        this.components = result.components;\n        this.isRectangle = result.isRectangle || false;\n        this.type = result.type;\n        return this;\n    };\n\n    /**\n     * Creates external geometry objects based on a plug-in framework's\n     * construction methods and available geometry classes.\n     * @param   config  {Object}    An optional framework-dependent properties specification\n     * @return          {Object}    The framework-dependent geometry representation\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.toObject = function (config) {\n        var obj = this.construct[this.type].call(this, config);\n        // Don't assign the \"properties\" property to an Array\n        if (typeof obj === 'object' && !Wkt.isArray(obj)) {\n            obj.properties = this.properties;\n        }\n        return obj;\n    };\n\n    /**\n     * Returns the WKT string representation; the same as the write() method.\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.toString = function (config) {\n        return this.write();\n    };\n\n    /**\n     * Parses a JSON representation as an Object.\n     * @param\tobj\t{Object}\tAn Object with the GeoJSON schema\n     * @return\t{this.Wkt.Wkt}\tThe object itself\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.fromJson = function (obj) {\n        var i, j, k, coords, iring, oring;\n\n        this.type = obj.type.toLowerCase();\n        this.components = [];\n        if (obj.hasOwnProperty('geometry')) { //Feature\n            this.fromJson(obj.geometry);\n            this.properties = obj.properties;\n            return this;\n        }\n        coords = obj.coordinates;\n\n        if (!Wkt.isArray(coords[0])) { // Point\n            this.components.push({\n                x: coords[0],\n                y: coords[1]\n            });\n\n        } else {\n\n            for (i in coords) {\n                if (coords.hasOwnProperty(i)) {\n\n                    if (!Wkt.isArray(coords[i][0])) { // LineString\n\n                        if (this.type === 'multipoint') { // MultiPoint\n                            this.components.push([{\n                                x: coords[i][0],\n                                y: coords[i][1]\n                            }]);\n\n                        } else {\n                            this.components.push({\n                                x: coords[i][0],\n                                y: coords[i][1]\n                            });\n\n                        }\n\n                    } else {\n\n                        oring = [];\n                        for (j in coords[i]) {\n                            if (coords[i].hasOwnProperty(j)) {\n\n                                if (!Wkt.isArray(coords[i][j][0])) {\n                                    oring.push({\n                                        x: coords[i][j][0],\n                                        y: coords[i][j][1]\n                                    });\n\n                                } else {\n\n                                    iring = [];\n                                    for (k in coords[i][j]) {\n                                        if (coords[i][j].hasOwnProperty(k)) {\n\n                                            iring.push({\n                                                x: coords[i][j][k][0],\n                                                y: coords[i][j][k][1]\n                                            });\n\n                                        }\n                                    }\n\n                                    oring.push(iring);\n\n                                }\n\n                            }\n                        }\n\n                        this.components.push(oring);\n                    }\n                }\n            }\n\n        }\n\n        return this;\n    };\n\n    /**\n     * Creates a JSON representation, with the GeoJSON schema, of the geometry.\n     * @return    {Object}    The corresponding GeoJSON representation\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.toJson = function () {\n        var cs, json, i, j, k, ring, rings;\n\n        cs = this.components;\n        json = {\n            coordinates: [],\n            type: (function () {\n                var i, type, s;\n\n                type = this.regExes.ogcTypes.exec(this.type).slice(1);\n                s = [];\n\n                for (i in type) {\n                    if (type.hasOwnProperty(i)) {\n                        if (type[i] !== undefined) {\n                            s.push(type[i].toLowerCase().slice(0, 1).toUpperCase() + type[i].toLowerCase().slice(1));\n                        }\n                    }\n                }\n\n                return s;\n            }.call(this)).join('')\n        }\n\n        // Wkt BOX type gets a special bbox property in GeoJSON\n        if (this.type.toLowerCase() === 'box') {\n            json.type = 'Polygon';\n            json.bbox = [];\n\n            for (i in cs) {\n                if (cs.hasOwnProperty(i)) {\n                    json.bbox = json.bbox.concat([cs[i].x, cs[i].y]);\n                }\n            }\n\n            json.coordinates = [\n                [\n                    [cs[0].x, cs[0].y],\n                    [cs[0].x, cs[1].y],\n                    [cs[1].x, cs[1].y],\n                    [cs[1].x, cs[0].y],\n                    [cs[0].x, cs[0].y]\n                ]\n            ];\n\n            return json;\n        }\n\n        // For the coordinates of most simple features\n        for (i in cs) {\n            if (cs.hasOwnProperty(i)) {\n\n                // For those nested structures\n                if (Wkt.isArray(cs[i])) {\n                    rings = [];\n\n                    for (j in cs[i]) {\n                        if (cs[i].hasOwnProperty(j)) {\n\n                            if (Wkt.isArray(cs[i][j])) { // MULTIPOLYGONS\n                                ring = [];\n\n                                for (k in cs[i][j]) {\n                                    if (cs[i][j].hasOwnProperty(k)) {\n                                        ring.push([cs[i][j][k].x, cs[i][j][k].y]);\n                                    }\n                                }\n\n                                rings.push(ring);\n\n                            } else { // POLYGONS and MULTILINESTRINGS\n\n                                if (cs[i].length > 1) {\n                                    rings.push([cs[i][j].x, cs[i][j].y]);\n\n                                } else { // MULTIPOINTS\n                                    rings = rings.concat([cs[i][j].x, cs[i][j].y]);\n                                }\n                            }\n                        }\n                    }\n\n                    json.coordinates.push(rings);\n\n                } else {\n                    if (cs.length > 1) { // For LINESTRING type\n                        json.coordinates.push([cs[i].x, cs[i].y]);\n\n                    } else { // For POINT type\n                        json.coordinates = json.coordinates.concat([cs[i].x, cs[i].y]);\n                    }\n                }\n\n            }\n        }\n\n        return json;\n    };\n\n    /**\n     * Absorbs the geometry of another this.Wkt.Wkt instance, merging it with its own,\n     * creating a collection (MULTI-geometry) based on their types, which must agree.\n     * For example, creates a MULTIPOLYGON from a POLYGON type merged with another\n     * POLYGON type, or adds a POLYGON instance to a MULTIPOLYGON instance.\n     * @param   wkt {String}    A Wkt.Wkt object\n     * @return\t{this.Wkt.Wkt}\tThe object itself\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.merge = function (wkt) {\n        var prefix = this.type.slice(0, 5);\n\n        if (this.type !== wkt.type) {\n            if (this.type.slice(5, this.type.length) !== wkt.type) {\n                throw TypeError('The input geometry types must agree or the calling this.Wkt.Wkt instance must be a multigeometry of the other');\n            }\n        }\n\n        switch (prefix) {\n\n            case 'point':\n                this.components = [this.components.concat(wkt.components)];\n                break;\n\n            case 'multi':\n                this.components = this.components.concat((wkt.type.slice(0, 5) === 'multi') ? wkt.components : [wkt.components]);\n                break;\n\n            default:\n                this.components = [\n                    this.components,\n                    wkt.components\n                ];\n                break;\n\n        }\n\n        if (prefix !== 'multi') {\n            this.type = 'multi' + this.type;\n        }\n        return this;\n    };\n\n    /**\n     * Reads a WKT string, validating and incorporating it.\n     * @param   str {String}    A WKT or GeoJSON string\n     * @return\t{this.Wkt.Wkt}\tThe object itself\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.read = function (str) {\n        var matches;\n        matches = this.regExes.typeStr.exec(str);\n        if (matches) {\n            this.type = matches[1].toLowerCase();\n            this.base = matches[2];\n            if (this.ingest[this.type]) {\n                this.components = this.ingest[this.type].apply(this, [this.base]);\n            }\n\n        } else {\n            if (this.regExes.crudeJson.test(str)) {\n                if (typeof JSON === 'object' && typeof JSON.parse === 'function') {\n                    this.fromJson(JSON.parse(str));\n\n                } else {\n                    console.log('JSON.parse() is not available; cannot parse GeoJSON strings');\n                    throw {\n                        name: 'JSONError',\n                        message: 'JSON.parse() is not available; cannot parse GeoJSON strings'\n                    };\n                }\n\n            } else {\n                console.log('Invalid WKT string provided to read()');\n                throw {\n                    name: 'WKTError',\n                    message: 'Invalid WKT string provided to read()'\n                };\n            }\n        }\n\n        return this;\n    }; // eo readWkt\n\n    /**\n     * Writes a WKT string.\n     * @param   components  {Array}     An Array of internal geometry objects\n     * @return              {String}    The corresponding WKT representation\n     * @memberof this.Wkt.Wkt\n     * @method\n     */\n    Wkt.Wkt.prototype.write = function (components) {\n        var i, pieces, data;\n\n        components = components || this.components;\n\n        pieces = [];\n\n        pieces.push(this.type.toUpperCase() + '(');\n\n        for (i = 0; i < components.length; i += 1) {\n            if (this.isCollection() && i > 0) {\n                pieces.push(',');\n            }\n\n            // There should be an extract function for the named type\n            if (!this.extract[this.type]) {\n                return null;\n            }\n\n            data = this.extract[this.type].apply(this, [components[i]]);\n            if (this.isCollection() && this.type !== 'multipoint') {\n                pieces.push('(' + data + ')');\n\n            } else {\n                pieces.push(data);\n\n                // If not at the end of the components, add a comma\n                if (i !== (components.length - 1) && this.type !== 'multipoint') {\n                    pieces.push(',');\n                }\n\n            }\n        }\n\n        pieces.push(')');\n\n        return pieces.join('');\n    };\n\n    /**\n     * This object contains functions as property names that extract WKT\n     * strings from the internal representation.\n     * @memberof this.Wkt.Wkt\n     * @namespace this.Wkt.Wkt.extract\n     * @instance\n     */\n    Wkt.Wkt.prototype.extract = {\n        /**\n         * Return a WKT string representing atomic (point) geometry\n         * @param   point   {Object}    An object with x and y properties\n         * @return          {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        point: function (point) {\n            return String(point.x) + this.delimiter + String(point.y);\n        },\n\n        /**\n         * Return a WKT string representing multiple atoms (points)\n         * @param   multipoint  {Array}     Multiple x-and-y objects\n         * @return              {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        multipoint: function (multipoint) {\n            var i, parts = [],\n                s;\n\n            for (i = 0; i < multipoint.length; i += 1) {\n                s = this.extract.point.apply(this, [multipoint[i]]);\n\n                if (this.wrapVertices) {\n                    s = '(' + s + ')';\n                }\n\n                parts.push(s);\n            }\n\n            return parts.join(',');\n        },\n\n        /**\n         * Return a WKT string representing a chain (linestring) of atoms\n         * @param   linestring  {Array}     Multiple x-and-y objects\n         * @return              {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        linestring: function (linestring) {\n            // Extraction of linestrings is the same as for points\n            return this.extract.point.apply(this, [linestring]);\n        },\n\n        /**\n         * Return a WKT string representing multiple chains (multilinestring) of atoms\n         * @param   multilinestring {Array}     Multiple of multiple x-and-y objects\n         * @return                  {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        multilinestring: function (multilinestring) {\n            var i, parts = [];\n\n            if (multilinestring.length) {\n                for (i = 0; i < multilinestring.length; i += 1) {\n                    parts.push(this.extract.linestring.apply(this, [multilinestring[i]]));\n                }\n            } else {\n                parts.push(this.extract.point.apply(this, [multilinestring]));\n            }\n\n            return parts.join(',');\n        },\n\n        /**\n         * Return a WKT string representing multiple atoms in closed series (polygon)\n         * @param   polygon {Array}     Collection of ordered x-and-y objects\n         * @return          {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        polygon: function (polygon) {\n            // Extraction of polygons is the same as for multilinestrings\n            return this.extract.multilinestring.apply(this, [polygon]);\n        },\n\n        /**\n         * Return a WKT string representing multiple closed series (multipolygons) of multiple atoms\n         * @param   multipolygon    {Array}     Collection of ordered x-and-y objects\n         * @return                  {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        multipolygon: function (multipolygon) {\n            var i, parts = [];\n            for (i = 0; i < multipolygon.length; i += 1) {\n                parts.push('(' + this.extract.polygon.apply(this, [multipolygon[i]]) + ')');\n            }\n            return parts.join(',');\n        },\n\n        /**\n         * Return a WKT string representing a 2DBox\n         * @param   multipolygon    {Array}     Collection of ordered x-and-y objects\n         * @return                  {String}    The WKT representation\n         * @memberof this.Wkt.Wkt.extract\n         * @instance\n         */\n        box: function (box) {\n            return this.extract.linestring.apply(this, [box]);\n        },\n\n        geometrycollection: function (str) {\n            console.log('The geometrycollection WKT type is not yet supported.');\n        }\n    };\n\n    /**\n     * This object contains functions as property names that ingest WKT\n     * strings into the internal representation.\n     * @memberof this.Wkt.Wkt\n     * @namespace this.Wkt.Wkt.ingest\n     * @instance\n     */\n    Wkt.Wkt.prototype.ingest = {\n\n        /**\n         * Return point feature given a point WKT fragment.\n         * @param   str {String}    A WKT fragment representing the point\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        point: function (str) {\n            var coords = Wkt.trim(str).split(this.regExes.spaces);\n            // In case a parenthetical group of coordinates is passed...\n            return [{ // ...Search for numeric substrings\n                x: parseFloat(this.regExes.numeric.exec(coords[0])[0]),\n                y: parseFloat(this.regExes.numeric.exec(coords[1])[0])\n            }];\n        },\n\n        /**\n         * Return a multipoint feature given a multipoint WKT fragment.\n         * @param   str {String}    A WKT fragment representing the multipoint\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        multipoint: function (str) {\n            var i, components, points;\n            components = [];\n            points = Wkt.trim(str).split(this.regExes.comma);\n            for (i = 0; i < points.length; i += 1) {\n                components.push(this.ingest.point.apply(this, [points[i]]));\n            }\n            return components;\n        },\n\n        /**\n         * Return a linestring feature given a linestring WKT fragment.\n         * @param   str {String}    A WKT fragment representing the linestring\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        linestring: function (str) {\n            var i, multipoints, components;\n\n            // In our x-and-y representation of components, parsing\n            //  multipoints is the same as parsing linestrings\n            multipoints = this.ingest.multipoint.apply(this, [str]);\n\n            // However, the points need to be joined\n            components = [];\n            for (i = 0; i < multipoints.length; i += 1) {\n                components = components.concat(multipoints[i]);\n            }\n            return components;\n        },\n\n        /**\n         * Return a multilinestring feature given a multilinestring WKT fragment.\n         * @param   str {String}    A WKT fragment representing the multilinestring\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        multilinestring: function (str) {\n            var i, components, line, lines;\n            components = [];\n\n            lines = Wkt.trim(str).split(this.regExes.doubleParenComma);\n            if (lines.length === 1) { // If that didn't work...\n                lines = Wkt.trim(str).split(this.regExes.parenComma);\n            }\n\n            for (i = 0; i < lines.length; i += 1) {\n                line = this._stripWhitespaceAndParens(lines[i]);\n                components.push(this.ingest.linestring.apply(this, [line]));\n            }\n\n            return components;\n        },\n\n        /**\n         * Return a polygon feature given a polygon WKT fragment.\n         * @param   str {String}    A WKT fragment representing the polygon\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        polygon: function (str) {\n            var i, j, components, subcomponents, ring, rings;\n            rings = Wkt.trim(str).split(this.regExes.parenComma);\n            components = []; // Holds one or more rings\n            for (i = 0; i < rings.length; i += 1) {\n                ring = this._stripWhitespaceAndParens(rings[i]).split(this.regExes.comma);\n                subcomponents = []; // Holds the outer ring and any inner rings (holes)\n                for (j = 0; j < ring.length; j += 1) {\n                    // Split on the empty space or '+' character (between coordinates)\n                    var split = ring[j].split(this.regExes.spaces);\n                    if (split.length > 2) {\n                        //remove the elements which are blanks\n                        split = split.filter(function (n) {\n                            return n != \"\"\n                        });\n                    }\n                    if (split.length === 2) {\n                        var x_cord = split[0];\n                        var y_cord = split[1];\n\n                        //now push\n                        subcomponents.push({\n                            x: parseFloat(x_cord),\n                            y: parseFloat(y_cord)\n                        });\n                    }\n                }\n                components.push(subcomponents);\n            }\n            return components;\n        },\n\n        /**\n         * Return box vertices (which would become the Rectangle bounds) given a Box WKT fragment.\n         * @param   str {String}    A WKT fragment representing the box\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        box: function (str) {\n            var i, multipoints, components;\n\n            // In our x-and-y representation of components, parsing\n            //  multipoints is the same as parsing linestrings\n            multipoints = this.ingest.multipoint.apply(this, [str]);\n\n            // However, the points need to be joined\n            components = [];\n            for (i = 0; i < multipoints.length; i += 1) {\n                components = components.concat(multipoints[i]);\n            }\n\n            return components;\n        },\n\n        /**\n         * Return a multipolygon feature given a multipolygon WKT fragment.\n         * @param   str {String}    A WKT fragment representing the multipolygon\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        multipolygon: function (str) {\n            var i, components, polygon, polygons;\n            components = [];\n            polygons = Wkt.trim(str).split(this.regExes.doubleParenComma);\n            for (i = 0; i < polygons.length; i += 1) {\n                polygon = this._stripWhitespaceAndParens(polygons[i]);\n                components.push(this.ingest.polygon.apply(this, [polygon]));\n            }\n            return components;\n        },\n\n        /**\n         * Return an array of features given a geometrycollection WKT fragment.\n         * @param   str {String}    A WKT fragment representing the geometry collection\n         * @memberof this.Wkt.Wkt.ingest\n         * @instance\n         */\n        geometrycollection: function (str) {\n            console.log('The geometrycollection WKT type is not yet supported.');\n        }\n\n    }; // eo ingest\n\n    return Wkt;\n}));\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","module.exports = __webpack_public_path__ + \"img/carbon_bus_w.21b33b66.svg\";","module.exports = __webpack_public_path__ + \"img/walkbus.665fe3f1.svg\";","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","<template>\r\n  <div class=\"h-100 d-flex flex-column\">\r\n    <div class=\"bread-bar\">\r\n      <ol class=\"breadcrumb m-0 d-md-flex d-none\">\r\n        <li class=\"breadcrumb-item\"><a href=\"#\"></a></li>\r\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ city }}</li>\r\n      </ol>\r\n      <div class=\"mobile-control-bar  d-flex d-md-none\">\r\n        <div class=\"city\">\r\n          <span class=\"material-icons\">\r\n          location_on\r\n          </span>{{ city }}\r\n        </div>\r\n        <div class=\"tool\">\r\n          <div class=\"map\" :class=\"{ active: mobileTool === 'map' }\"\r\n          @click=\"showArea('map')\">\r\n            <i class=\"bi bi-pin-map me-1\"></i>\r\n          </div>\r\n          <div class=\"time\" :class=\"{ active: mobileTool === 'time' }\" v-if=\"stopOfRouteBack.length > 0 && stopOfRouteTo.length > 0\"\r\n          @click=\"showArea('time')\">\r\n            <i class=\"bi bi-clock me-1\"></i>\r\n          </div>\r\n          <div class=\"route\" :class=\"{ active: mobileTool === 'route' }\"\r\n          @click=\"showArea('route')\">\r\n            <i class=\"bi bi-map me-1\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"map-wrap\">\r\n      <div class=\"route-search-area active\">\r\n        <div class=\"route-search-header\">\r\n          <input type=\"search\" class=\"form-control\" id=\"routeNumber\" placeholder=\"\"\r\n          v-model=\"routeKeyword\"\r\n          @keyup=\"getRoute()\">\r\n        </div>\r\n        <div class=\"route-search-body\">\r\n          <ul class=\"route-list\">\r\n            <li class=\"route-list-item\" v-for=\"item in routeList\" :key=\"item.RouteUID\"\r\n            @click=\"toRouteDetail(item.RouteName.Zh_tw, item.RouteUID)\">\r\n              <div class=\"d-flex justify-content-between\">\r\n                <div class=\"title\">{{ item.RouteName.Zh_tw }}</div>\r\n                <div class=\"icon\">\r\n                  <a><span class=\"material-icons\">\r\n                  favorite_border\r\n                  </span></a>\r\n                </div>\r\n              </div>\r\n              <div class=\"d-flex justify-content-between\">\r\n                <div class=\"od\">{{ item.DepartureStopNameZh }}-{{ item.DestinationStopNameZh }}</div>\r\n                <div class=\"city\">{{ city }}</div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"route-stop-area\">\r\n        <a href=\"#\" class=\"return\"\r\n        @click.prevent=\"backToRouteSeachList()\">\r\n        <span class=\"material-icons\">chevron_left</span>\r\n        </a>\r\n        <div class=\"refresh-bar\">\r\n        <a href=\"#\" class=\"refresh ms-auto\"\r\n        @click.prevent=\"getStopOfRoute()\">\r\n        <span class=\"material-icons\">autorenew</span>\r\n        \r\n        </a>\r\n      </div>\r\n        <div class=\"route-stop-header\">\r\n          <div class=\"route-name\">\r\n          {{ selectRoute }}\r\n          </div>\r\n        </div>\r\n        <ul class=\"nav nav-tabs\" role=\"tablist\">\r\n            <li class=\"nav-item od-nav\" role=\"presentation\">\r\n              <button class=\"nav-link\" :class=\"{ active: toOrBack === 'to'}\" id=\"go-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#go\" type=\"button\"\r\n              @click=\"changeToOrBack('to')\">\r\n                <div class=\"fw-700 truncateText\" v-if=\"stopOfRouteTo.length > 0\"> {{ stopOfRouteTo[stopOfRouteTo.length - 1].StopName.Zh_tw }}</div>\r\n              </button>\r\n            </li>\r\n            <li class=\"nav-item od-nav\" role=\"presentation\">\r\n              <button class=\"nav-link\" :class=\"{ active: toOrBack === 'back'}\" id=\"back-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#back\" type=\"button\"\r\n              @click=\"changeToOrBack('back')\">\r\n                <div class=\"fw-700 truncateText\" v-if=\"stopOfRouteBack.length > 0\"> {{ stopOfRouteBack[stopOfRouteBack.length - 1].StopName.Zh_tw }}</div>\r\n              </button>\r\n            </li>\r\n        </ul>\r\n        <div class=\"route-stop-content\">\r\n          <div class=\"tab-content py-3\" id=\"routeTabContent\">\r\n              <div class=\"tab-pane fade show active\" id=\"go\" role=\"tabpanel\" v-if=\"stopOfRouteTo.length > 0\">\r\n                <ul class=\"route-stop-list\">\r\n                  <li class=\"route-stop-item\" v-for=\"stop in stopOfRouteTo\" :key=\"stop.StopUID\"\r\n                  @click=\"panToPosition(stop.StopPosition.PositionLat, stop.StopPosition.PositionLon)\">\r\n                    <div class=\"time\" :class=\"{ active : stop.EstimateTime <= 180 , 'disconnect': stop.StopStatus !== 0}\">\r\n                      <span v-if=\"stop.StopStatus === 0\">\r\n                        <span v-if=\"stop.EstimateTime <= 180 && stop.PlateNumb\"></span>\r\n                        <span v-else-if=\"stop.EstimateTime <= 180\"></span>\r\n                        <span v-else>{{  $filters.toMinute(stop.EstimateTime) }}</span>\r\n                      </span>\r\n                      <span v-else-if=\"stop.StopStatus === 1\"></span>\r\n                      <span v-else-if=\"stop.StopStatus === 2\"></span>\r\n                      <span v-else-if=\"stop.StopStatus === 3\"></span>\r\n                      <span v-else></span>\r\n                    </div>\r\n                    <div class=\"stop-name\">{{ stop.StopName.Zh_tw }}</div>\r\n                    <div class=\"plate-numb\">\r\n                      <span v-if=\"stop.PlateNumb\">{{ stop.PlateNumb }}</span>\r\n                    </div>\r\n                    <div class=\"status-dot\" :class=\"{ 'bus-on' : stop.PlateNumb }\"></div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"tab-pane fade\" id=\"back\" role=\"tabpanel\" v-if=\"stopOfRouteBack.length > 0\">\r\n                <ul class=\"route-stop-list\">\r\n                  <li class=\"route-stop-item\" v-for=\"stop in stopOfRouteBack\" :key=\"stop.StopUID\"\r\n                  @click=\"panToPosition(stop.StopPosition.PositionLat, stop.StopPosition.PositionLon)\">\r\n                    <div class=\"time\" :class=\"{ active : stop.EstimateTime <= 180, 'disconnect': stop.StopStatus !== 0}\">\r\n                      <span v-if=\"stop.StopStatus === 0\">\r\n                        <span v-if=\"stop.EstimateTime <= 180 && stop.PlateNumb\"></span>\r\n                        <span v-else-if=\"stop.EstimateTime <= 180\"></span>\r\n                        <span v-else>{{  $filters.toMinute(stop.EstimateTime) }}</span>\r\n                      </span>\r\n                      <span v-else-if=\"stop.StopStatus === 1\"></span>\r\n                      <span v-else-if=\"stop.StopStatus === 2\"></span>\r\n                      <span v-else-if=\"stop.StopStatus === 3\"></span>\r\n                      <span v-else></span>\r\n                    </div>\r\n                    <div class=\"stop-name\" :class=\"{ active : stop.PlateNumb, 'disconnect': stop.StopStatus !== 0}\">{{ stop.StopName.Zh_tw }}</div>\r\n                    <div class=\"plate-numb\">\r\n                      <span v-if=\"stop.PlateNumb\">{{ stop.PlateNumb }}</span>\r\n                    </div>\r\n                    <div class=\"status-dot\" :class=\"{ 'bus-on' : stop.PlateNumb , 'bus-close' : stop.EstimateTime <= 180 }\"></div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"gps-icon\" @click=\"locateGPS()\">\r\n        <img src=\"@/assets/images/gps.svg\" class=\"icon-filter\" alt=\"gps-icon\">\r\n      </div>\r\n      <div class=\"map\" id=\"map\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport $L from 'leaflet'\r\nimport Wkt from 'wicket'\r\nlet openStreetMap = {}\r\n\r\nconst walkBusIcon = new $L.Icon({\r\n  iconUrl: require('@/assets/images/walkbus.svg'),\r\n  iconSize: [40, 40],\r\n  iconAnchor: [20, 20],\r\n  popupAnchor: [0, -20]\r\n})\r\nconst stationInIcon = new $L.Icon({\r\n  iconUrl: require('@/assets/images/busStop_in.svg'),\r\n  iconSize: [28, 28],\r\n  iconAnchor: [14, 14],\r\n  popupAnchor: [0, -14]\r\n})\r\nconst stationIcon = new $L.Icon({\r\n  iconUrl: require('@/assets/images/busStop.svg'),\r\n  iconSize: [24, 24],\r\n  iconAnchor: [12, 12],\r\n  popupAnchor: [0, -12]\r\n})\r\nconst positionIcon = new $L.Icon({\r\n  iconUrl: require('@/assets/images/position.svg'),\r\n  iconSize: [49, 49],\r\n  iconAnchor: [24, 24],\r\n  popupAnchor: [0, -24]\r\n})\r\n\r\n// function removeMapMarker () {\r\n//   // console.log(typeof openStreetMap)\r\n//   openStreetMap.eachLayer((layer) => {\r\n//     if (layer instanceof $L.Marker) {\r\n//       openStreetMap.removeLayer(layer)\r\n//     }\r\n//     if (layer.toGeoJSON) {\r\n//       openStreetMap.removeLayer(layer)\r\n//     }\r\n//   })\r\n// }\r\nexport default {\r\n  data () {\r\n    return {\r\n      city: '',\r\n      routeList: [],\r\n      routeKeyword: '',\r\n      stopOfRouteTo: [],\r\n      stopOfRouteBack: [],\r\n      selectRoute: '',\r\n      selectRouteUID: '',\r\n      toOrBack: 'to',\r\n      routeGeometry: [],\r\n      locationMarkerID: '',\r\n      walkBusMarker: [],\r\n      stopMarker: [],\r\n      mobileTool: 'route'\r\n    }\r\n  },\r\n  methods: {\r\n    getRoute () {\r\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/Route/City/${this.city}/${this.routeKeyword}?$top=50&$format=JSON`\r\n      this.axios.get(url,\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          // console.log(response.data)\r\n          this.routeList = response.data\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    toRouteDetail (routeName, routeUID) {\r\n      document.querySelector('.route-search-area').classList.remove('active')\r\n      document.querySelector('.route-stop-area').classList.add('active')\r\n      this.selectRoute = routeName\r\n      this.selectRouteUID = routeUID\r\n      this.mobileTool = 'time'\r\n      this.getStopOfRoute()\r\n    },\r\n    backToRouteSeachList () {\r\n      document.querySelector('.route-search-area').classList.add('active')\r\n      document.querySelector('.route-stop-area').classList.remove('active')\r\n    },\r\n    getStopOfRoute () {\r\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/StopOfRoute/City/${this.city}?$filter=RouteUID%20eq%20'${this.selectRouteUID}'&$format=JSON`\r\n      this.axios.get(url,\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          response.data.forEach(x => {\r\n            if (x.Direction === 0) {\r\n              this.stopOfRouteTo = x.Stops\r\n            } else if (x.Direction === 1) {\r\n              this.stopOfRouteBack = x.Stops\r\n            }\r\n          })\r\n          this.getEstimateTime(this.selectRoute, this.selectRouteUID)\r\n          // continue\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getEstimateTime (routeName, routeUID) {\r\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/${this.city}/${routeName}?$filter=RouteUID%20in%20('${routeUID}')&$format=JSON`\r\n      this.axios.get(url,\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          // console.log(response.data)\r\n          response.data.forEach((x) => {\r\n            if (x.Direction === 0) {\r\n              this.stopOfRouteTo.forEach((route) => {\r\n                if (x.StopUID === route.StopUID) {\r\n                  route.EstimateTime = x.EstimateTime\r\n                  route.StopStatus = x.StopStatus\r\n                }\r\n              })\r\n            }\r\n            if (x.Direction === 1) {\r\n              this.stopOfRouteBack.forEach((route) => {\r\n                if (x.StopUID === route.StopUID) {\r\n                  route.EstimateTime = x.EstimateTime\r\n                  route.StopStatus = x.StopStatus\r\n                }\r\n              })\r\n            }\r\n          })\r\n          // continue\r\n          this.getPlateNum(routeName, routeUID)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getPlateNum (routeName, routeUID) {\r\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/RealTimeNearStop/City/${this.city}/${routeName}?$filter=RouteUID%20eq%20'${routeUID}'&$format=JSON`\r\n      this.axios.get(url,\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          // console.log(response.data)\r\n          response.data.forEach((bus) => {\r\n            if (bus.Direction === 0) {\r\n              this.stopOfRouteTo.forEach((route) => {\r\n                if (bus.StopUID === route.StopUID) {\r\n                  route.PlateNumb = bus.PlateNumb\r\n                  // console.log(bus.PlateNumb)\r\n                }\r\n              })\r\n            }\r\n            if (bus.Direction === 1) {\r\n              this.stopOfRouteBack.forEach((route) => {\r\n                if (bus.StopUID === route.StopUID) {\r\n                  route.PlateNumb = bus.PlateNumb\r\n                  // console.log(bus.PlateNumb)\r\n                }\r\n              })\r\n            }\r\n          })\r\n          // continue\r\n          this.getRouteGeometry(routeName, routeUID)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getRouteGeometry (routeName, routeUID) {\r\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/Shape/City/${this.city}/${routeName}?$filter=RouteUID%20eq%20'${routeUID}'&$format=JSON`\r\n      this.axios.get(url,\r\n        {\r\n          headers: this.$getAuthorizationHeader()\r\n        }\r\n      )\r\n        .then((response) => {\r\n          console.log(response.data)\r\n          this.routeGeometry = response.data\r\n          // continue\r\n          openStreetMap.eachLayer((layer) => {\r\n            if (layer._leaflet_id !== this.locationMarkerID) {\r\n              if (layer instanceof $L.Marker) {\r\n                openStreetMap.removeLayer(layer)\r\n              }\r\n              if (layer instanceof $L.Popup) {\r\n                openStreetMap.removeLayer(layer)\r\n              }\r\n            }\r\n          })\r\n          this.addRouteLayer()\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    addRouteLayer () {\r\n      const geoStyle = {\r\n        color: '#345E8A',\r\n        weight: 4\r\n      }\r\n      let layer = null\r\n      this.routeGeometry.forEach((route) => {\r\n        const wicket = new Wkt.Wkt()\r\n        wicket.read(route.Geometry)\r\n        const geoJsonFeature = wicket.toJson()\r\n        try {\r\n          layer = $L.geoJSON(geoJsonFeature, { style: geoStyle }).addTo(openStreetMap)\r\n          layer.addData(geoJsonFeature)\r\n          this.addRouteMarker()\r\n        } catch (e) {\r\n          console.log(e)\r\n        }\r\n      })\r\n    },\r\n    changeToOrBack (way) {\r\n      this.toOrBack = way\r\n      this.addRouteMarker()\r\n    },\r\n    addRouteMarker () {\r\n      let tempData = []\r\n      if (this.toOrBack === 'to') {\r\n        tempData = JSON.parse(JSON.stringify(this.stopOfRouteTo))\r\n      } else {\r\n        tempData = JSON.parse(JSON.stringify(this.stopOfRouteBack))\r\n      }\r\n      openStreetMap.eachLayer((layer) => {\r\n        if (layer._leaflet_id !== this.locationMarkerID) {\r\n          if (layer instanceof $L.Marker) {\r\n            openStreetMap.removeLayer(layer)\r\n          }\r\n          if (layer instanceof $L.Popup) {\r\n            openStreetMap.removeLayer(layer)\r\n          }\r\n        }\r\n      })\r\n      const zoomLevel = openStreetMap.getZoom()\r\n      if (zoomLevel > 15) {\r\n        this.zoomLevelAddMarker()\r\n      } else {\r\n        tempData.forEach((x, index) => {\r\n          if (x.PlateNumb) {\r\n            const marker = $L.marker([x.StopPosition.PositionLat, x.StopPosition.PositionLon], { icon: walkBusIcon })\r\n            marker.addTo(openStreetMap)\r\n          } else if (index === 0 || index === tempData.length - 1) {\r\n            const marker = $L.marker([x.StopPosition.PositionLat, x.StopPosition.PositionLon], { icon: stationIcon })\r\n            marker.addTo(openStreetMap)\r\n          }\r\n        })\r\n      }\r\n      // openStreetMap.setView([tempData[0].StopPosition.PositionLat, tempData[0].StopPosition.PositionLon], 14)\r\n    },\r\n    zoomLevelAddMarker () {\r\n      if (this.stopOfRouteTo.length > 0 && this.stopOfRouteBack.length > 0) {\r\n        const zoomLevel = openStreetMap.getZoom()\r\n        // console.log(zoomLevel)\r\n        if (zoomLevel <= 15) {\r\n          this.addRouteMarker()\r\n        } else {\r\n          let tempData = []\r\n          if (this.toOrBack === 'to') {\r\n            tempData = JSON.parse(JSON.stringify(this.stopOfRouteTo))\r\n          } else {\r\n            tempData = JSON.parse(JSON.stringify(this.stopOfRouteBack))\r\n          }\r\n          openStreetMap.eachLayer((layer) => {\r\n            if (layer._leaflet_id !== this.locationMarkerID) {\r\n              if (layer instanceof $L.Marker) {\r\n                openStreetMap.removeLayer(layer)\r\n              }\r\n              if (layer instanceof $L.Popup) {\r\n                openStreetMap.removeLayer(layer)\r\n              }\r\n            }\r\n          })\r\n          tempData.forEach((x, index) => {\r\n            const popupContent = this.createPopupContent(x)\r\n            const popup = $L.popup({\r\n              autoPan: false,\r\n              className: popupContent.status,\r\n              offset: [0, -12]\r\n            })\r\n            popup.setLatLng($L.latLng(x.StopPosition.PositionLat, x.StopPosition.PositionLon))\r\n            popup.setContent(popupContent.str)\r\n            openStreetMap.addLayer(popup)\r\n            if (popupContent.status === 'popupWarning') {\r\n              const marker = $L.marker([x.StopPosition.PositionLat, x.StopPosition.PositionLon], { icon: stationInIcon })\r\n                .bindPopup(popup)\r\n              // .on('click', markerOnClick)\r\n              marker.addTo(openStreetMap)\r\n            } else {\r\n              const marker = $L.marker([x.StopPosition.PositionLat, x.StopPosition.PositionLon], { icon: stationIcon })\r\n                .bindPopup(popup)\r\n              // .on('click', markerOnClick)\r\n              marker.addTo(openStreetMap)\r\n            }\r\n          })\r\n        }\r\n      }\r\n    },\r\n    createPopupContent (x) {\r\n      let status = ''\r\n      let statusCode = 'popupPrimary'\r\n      if (x.StopStatus === 0) {\r\n        if (x.EstimateTime <= 180 && x.PlateNumb) {\r\n          status = ''\r\n          statusCode = 'popupWarning'\r\n        } else if (x.EstimateTime <= 180) {\r\n          status = ''\r\n          statusCode = 'popupWarning'\r\n        } else {\r\n          status = this.$filters.toMinute(x.EstimateTime) + ' '\r\n        }\r\n      } else if (x.StopStatus === 1) {\r\n        status = ''\r\n        statusCode = 'popupSecondary'\r\n      } else if (x.StopStatus === 2) {\r\n        status = ''\r\n        statusCode = 'popupSecondary'\r\n      } else if (x.StopStatus === 3) {\r\n        status = ''\r\n        statusCode = 'popupSecondary'\r\n      }\r\n      const busImg = require('@/assets/images/carbon_bus_w.svg')\r\n      const busIcon = x.PlateNumb ? `<img src=\"${busImg}\" height=\"25\" alt=\"icon\">` : ''\r\n      const str = `\r\n      <div class=\"stop-popup\">\r\n        ${busIcon}\r\n        <div class=\"name\">${x.StopName.Zh_tw}</div>\r\n        <div class=\"time\">${status} </div>\r\n      </div>\r\n      `\r\n      return {\r\n        str: str,\r\n        status: statusCode\r\n      }\r\n    },\r\n    panToPosition (Lat, Lng) {\r\n      // console.log(Lat, Lng)\r\n      openStreetMap.setView([Lat, Lng], 18)\r\n      // console.log(window.innerWidth)\r\n      if (window.innerWidth < 768) {\r\n        this.showArea('map')\r\n      }\r\n    },\r\n    locateGPS () {\r\n      // \r\n      navigator.geolocation.getCurrentPosition(position => {\r\n        openStreetMap.eachLayer((layer) => {\r\n          if (layer._leaflet_id === this.locationMarkerID) {\r\n            openStreetMap.removeLayer(layer)\r\n          }\r\n        })\r\n        const locate = [position.coords.latitude, position.coords.longitude]\r\n        openStreetMap.setView(locate, 15)\r\n        document.querySelector('.gps-icon').classList.add('active')\r\n        const marker = $L.marker([position.coords.latitude, position.coords.longitude], { icon: positionIcon })\r\n        marker.addTo(openStreetMap)\r\n        this.locationMarkerID = marker._leaflet_id\r\n      })\r\n    },\r\n    showArea (area) {\r\n      if (area === 'map') {\r\n        this.mobileTool = 'map'\r\n        document.querySelector('.route-search-area').classList.remove('active')\r\n        document.querySelector('.route-stop-area').classList.remove('active')\r\n      } else if (area === 'route') {\r\n        this.mobileTool = 'route'\r\n        document.querySelector('.route-search-area').classList.add('active')\r\n        document.querySelector('.route-stop-area').classList.remove('active')\r\n      } else if (area === 'time') {\r\n        this.mobileTool = 'time'\r\n        document.querySelector('.route-search-area').classList.remove('active')\r\n        document.querySelector('.route-stop-area').classList.add('active')\r\n      }\r\n    },\r\n    getParam () {\r\n      const pstr = '' + this.$route.params.queryString\r\n      const pjson = JSON.parse(pstr)\r\n      this.city = pjson.city\r\n      if (pjson.route && pjson.routeUID) {\r\n        this.selectRoute = pjson.route\r\n        this.selectRouteUID = pjson.routeUID\r\n        this.toOrBack = pjson.direction === 0 ? 'to' : 'back'\r\n        this.toRouteDetail(this.selectRoute, this.selectRouteUID)\r\n        this.panToPosition(pjson.LatLon[0], pjson.LatLon[1])\r\n        // console.log(pjson.LatLon[0], pjson.LatLon[1])\r\n      }\r\n      // console.log(pjson)\r\n    }\r\n  },\r\n  mounted () {\r\n    // this.city = this.$route.params.city\r\n    // quick start\r\n    openStreetMap = $L.map('map', {\r\n      zoomControl: false,\r\n      center: [23.51357237187571, 120.21110434230025],\r\n      zoom: 8,\r\n      tap: false\r\n    })\r\n    $L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      attribution:\r\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n    }).addTo(openStreetMap)\r\n\r\n    // resset zoom position\r\n    $L.control.zoom({\r\n      position: 'bottomright'\r\n    }).addTo(openStreetMap)\r\n    openStreetMap.on('moveend', function () {\r\n      document.querySelector('.gps-icon').classList.remove('active')\r\n    })\r\n    const func = this.zoomLevelAddMarker\r\n    openStreetMap.on('zoomend', function () {\r\n      func()\r\n    })\r\n    this.getParam()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./BusSearch.vue?vue&type=template&id=51e95d39\"\nimport script from \"./BusSearch.vue?vue&type=script&lang=js\"\nexport * from \"./BusSearch.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\F2E\\\\bus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\nvar TypeError = global.TypeError;\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = lengthOfArrayLike(E);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n","module.exports = __webpack_public_path__ + \"img/busStop.2fb86a4d.svg\";"],"sourceRoot":""}